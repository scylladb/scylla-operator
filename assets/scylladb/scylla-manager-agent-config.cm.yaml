apiVersion: v1
kind: ConfigMap
metadata:
  namespace: "{{ .Namespace }}"
  name: "{{ .Name }}"
data:
  {{ .ScyllaAgentConfigFileName | printf "%q" }}: |
    # ScyllaDB API endpoint configuration based on IP family
    scylla:
      {{- if eq .IPFamily "IPv6" }}
      api_address: "::"
      {{- else }}
      api_address: "127.0.0.1"
      {{- end }}
      api_port: 10000
    
    # Default ScyllaDB Manager Agent configuration
    # Additional configuration can be provided via customConfigSecretRef
