

<!DOCTYPE html>
<html class="no-js" lang="en" style="visibility: hidden;">
    
    

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>
             Upgrading version of Scylla | ScyllaDB Docs 
        </title>
        <meta name="description" content="ScyllaDB is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server." />
        <link rel="icon" href="../../../_static/img/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../../../_static/img/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="../../../_static/img/favicon-228x228.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="../../../_static/img/favicon-228x228.png" />
        <meta name="msapplication-TileImage" href="../../../_static/img/favicon-228x228.png" />

        
            
            
        

        
            
            <link rel="canonical" href="https://operator.docs.scylladb.com/stable/resources/scyllaclusters/nodeoperations/scylla-upgrade.html"/>
        

        <link rel="author" href="mailto:info@scylladb.com" />

        
            
        <!-- increase expertrec loading priority-->
        <link rel="dns-prefetch" href="https://cse.expertrec.com">

        <!-- increase font loading priority -->
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- async CSS -->
        <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- no-JS fallback -->
        <noscript>
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />
        </noscript>

        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css">
        <script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js"></script>
        
        
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/css/main.css?v=e3ce25dc" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_collapse.css?v=226d88b4" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=714c36fc" />
            
        
    
        
        
            
        <script type="text/javascript" src="../../../_static/js/runtime.bundle.js"></script>
        <script type="text/javascript" src="../../../_static/js/main.bundle.js"></script>
        
            
                <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
            
        
            
                <script src="../../../_static/doctools.js?v=9bcbadda"></script>
            
        
            
                <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
            
        
            
                <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
            
        
            
                <script src="../../../_static/copybutton.js?v=f281be69"></script>
            
        
    
            
                <!-- Local meta tags -->
            
            
                <!-- Google Tag Manager docs -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-54NWVS4");
</script>
<!-- End Google Tag Manager -->

<!-- Google Tag Manager global -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T8P2JP");
</script>
<!-- End Google Tag Manager -->

<!-- Expertrec -->
<script>
    var id = "e2077224-9ccf-11e9-a0c9-0242ac130002";
    var ci_search = document.createElement("script");
    ci_search.type = "text/javascript";
    ci_search.async = true;
    ci_search.src = "https://cse.expertrec.com/api/js/ci_common.js?id=" + id;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ci_search, s);
</script>
<!-- End Expertrec -->
            
        
    </head>

    <body class="brand-product">
        <section class="promo-banner  promo-banner--hide" style="display: none;">
    <div class="promo-banner-wrapper">
        
        <div class="promo-banner__title">ScyllaDB University Live | Free Virtual Training Event</div>
        <a class="promo-banner__button button button--reverse" href="#"
           target="_blank" rel="noopener noreferrer">Learn more</a>
        <button class="promo-banner__close">
            <i class="icon-cancel"></i>
        </button>
    </div>
</section>
        <header class="header">
    <div class="header-logo">
        <a class="header-logo__img" href="https://scylladb.com/">
            <img src="../../../_static/img/scylladb-logo-horizontal.svg" alt="ScyllaDB Documentation Logo" />
        </a>
        <span class="header-logo__bar"></span>
        <a class="header-logo__text" href="https://docs.scylladb.com/">
            Documentation
        </a>
    </div>
    <div class="header-navigation">
        <ul class="dropdown menu scylla-dropdown scylla-dropdown--header" data-dropdown-menu>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Deployments <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">
                            <i class="icon-docs-cloud"></i>Cloud</a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/">
                            <i class="icon-server"></i>Server</a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Tools <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://manager.docs.scylladb.com/">
                            <i class="icon-docs-manager"></i>ScyllaDB Manager</a>
                    </li>
                    <li>
                        <a href="https://monitoring.docs.scylladb.com/">
                            <i class="icon-docs-monitoring"></i>ScyllaDB
                            Monitoring Stack</a>
                    </li>
                    <li>
                        <a href="https://operator.docs.scylladb.com/">
                            <i class="icon-docs-operator"></i>ScyllaDB Operator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Drivers <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/manual/stable/using-scylla/drivers/cql-drivers/">
                            <i class="icon-docs-nsql-guides"></i>CQL Drivers
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/stable/using-scylla/drivers/dynamo-drivers/">
                            <i class="icon-docs-alternator"></i>DynamoDB Drivers
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Resources
                    <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://university.scylladb.com">
                            <i class="icon-university"></i>
                            ScyllaDB University
                        </a>
                    </li>
                    <li>
                        <a href="https://forum.scylladb.com">
                            <i class="icon-docs-community"></i>
                            Community Forum
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html">
                            <i class="icon-docs-training"></i>
                            Tutorials
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="header-button">
            <a href="https://docs.scylladb.com/manual/stable/getting-started/installation-common/scylla-web-installer.html" class="button"><i class="icon-download me-2"></i> Install</a>
        </div>
    </div>
    <div class="header-search-box">
        <i class="dark-theme-toggler icon-theme"></i>
        <div class="search-box">
            <ci-search></ci-search>
        </div>
        
            <biel-button class="header-ask-ai" project="ddfdo8m94k" 
                header-title="ScyllaDB chatbot (beta)"
                button-position="default"
                modal-position="bottom-right"
                button-style="dark">
                Ask AI
            </biel-button>
        
    </div>
    <div class="side-nav-toggle">
    <i class="dark-theme-toggler icon-theme"></i>
    <div class="side-nav-toggle__button" data-toggle="side-nav">
        <i class="icon-menu"></i>
    </div>
</div>
</header>
        <div class="title"></div>
        <section
            class="layout  layout--sidebar layout--has-secondary-sidebar ">
            <div class="content large-order-2">
                
                    <div class="pre-content">
                        <div class="breadcrumbs">
    <span class="bread__item">
        <a href="https://docs.scylladb.com"
           class="bread__highlight">
            <i class="icon-home"></i> ScyllaDB Docs
        </a>
    </span>
    <span class="bread__item">
        <a href="../../../index.html"
           class="bread__highlight">
            Scylla Operator
        </a>
    </span>
    
        <span class="bread__item">
            <a href="../../index.html" class="bread__highlight">
                Resources
            </a>
        </span>
    
        <span class="bread__item">
            <a href="../index.html" class="bread__highlight">
                ScyllaClusters
            </a>
        </span>
    
        <span class="bread__item">
            <a href="index.html" class="bread__highlight">
                Node operations using Scylla Operator
            </a>
        </span>
    
    <span class="bread__item bread__item--last">Upgrading version of Scylla</span>
</div>
                    </div>
                
                
                <div class="sidebar-right-layout">
                    <div class="body-container">
                

                    <div class="content-body">
                        
                            
    <div class="admonition caution">
        <p class="admonition-title">Caution</p>
        <p>
            
                You're viewing documentation for an unstable version of Scylla Operator.
            
            <a href="../../../../stable/resources/scyllaclusters/nodeoperations/scylla-upgrade.html">Switch to the latest stable version.</a>
        </p>
    </div>

                        
                        
                        <section id="upgrading-version-of-scylla">
<h1>Upgrading version of Scylla<a class="headerlink" href="#upgrading-version-of-scylla" title="Link to this heading">¶</a></h1>
<p><strong>Review Release Notes Before Upgrading</strong></p>
<p>Before initiating an upgrade, it’s crucial to review the release notes for the target ScyllaDB version. Release notes provide essential information about new features, improvements, bug fixes, and any special upgrade instructions or considerations that may impact your deployment.</p>
<p>You can find the release notes for ScyllaDB versions at <a class="reference external" href="https://www.scylladb.com/product/release-notes/">ScyllaDB Release Notes</a>.</p>
<hr class="docutils" />
<p>To upgrade Scylla version using Operator user have to modify existing ScyllaCluster definition.</p>
<p>In this example cluster will be upgraded to version <code class="docutils literal notranslate"><span class="pre">4.4.5</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>-n<span class="w"> </span>scylla<span class="w"> </span>patch<span class="w"> </span>ScyllaCluster<span class="w"> </span>simple-cluster<span class="w">  </span>-p<span class="w"> </span><span class="s1">&#39;{&quot;spec&quot;:{&quot;version&quot;: &quot;4.4.5&quot;}}&#39;</span><span class="w"> </span>--type<span class="o">=</span>merge
</pre></div>
</div>
<p>Operator supports two types of version upgrades:</p>
<ol class="arabic simple">
<li><p>Patch upgrade</p></li>
<li><p>Generic upgrade</p></li>
</ol>
<p><strong>Patch upgrade</strong></p>
<p>Patch upgrade is executed when only patch version change is detected according to <a class="reference external" href="https://semver.org/">semantic versioning format</a>.
Procedure simply rolls out a restart of whole cluster and upgrades Scylla container image for each node one by one.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">4.0.0</span> <span class="pre">-&gt;</span> <span class="pre">4.0.1</span></code></p>
<p><strong>Generic upgrade</strong></p>
<p>Generic upgrades are executed for the non patch version changes.</p>
<p>Example: <code class="docutils literal notranslate"><span class="pre">4.0.0</span> <span class="pre">-&gt;</span> <span class="pre">2020.1.0</span></code> or <code class="docutils literal notranslate"><span class="pre">4.0.0</span> <span class="pre">-&gt;</span> <span class="pre">4.1.0</span></code> or even <code class="docutils literal notranslate"><span class="pre">4.0.0</span> <span class="pre">-&gt;</span> <span class="pre">nightly</span></code></p>
<p>User can observe current state of upgrade in ScyllaCluster status.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>-n<span class="w"> </span>scylla<span class="w"> </span>describe<span class="w"> </span>ScyllaCluster<span class="w"> </span>simple-cluster
<span class="o">[</span>...<span class="o">]</span>
Status:
<span class="w">  </span>Racks:
<span class="w">    </span>us-east-1a:
<span class="w">      </span>Members:<span class="w">        </span><span class="m">3</span>
<span class="w">      </span>Ready<span class="w"> </span>Members:<span class="w">  </span><span class="m">3</span>
<span class="w">      </span>Version:<span class="w">        </span><span class="m">4</span>.1.9
<span class="w">  </span>Upgrade:
<span class="w">    </span>Current<span class="w"> </span>Node:<span class="w">         </span>simple-cluster-us-east-1-us-east-1a-2
<span class="w">    </span>Current<span class="w"> </span>Rack:<span class="w">         </span>us-east-1a
<span class="w">    </span>Data<span class="w"> </span>Snapshot<span class="w"> </span>Tag:<span class="w">    </span>so_data_20201228135002UTC
<span class="w">    </span>From<span class="w"> </span>Version:<span class="w">         </span><span class="m">4</span>.1.9
<span class="w">    </span>State:<span class="w">                </span>validate_upgrade
<span class="w">    </span>System<span class="w"> </span>Snapshot<span class="w"> </span>Tag:<span class="w">  </span>so_system_20201228135002UTC
<span class="w">    </span>To<span class="w"> </span>Version:<span class="w">           </span><span class="m">4</span>.2.2
</pre></div>
</div>
<p>Each upgrade begins with taking a snapshot of <code class="docutils literal notranslate"><span class="pre">system</span></code> and <code class="docutils literal notranslate"><span class="pre">system_schema</span></code> keyspaces on all nodes in parallel.
Name of this snapshot tag is saved in upgrade status under <code class="docutils literal notranslate"><span class="pre">System</span> <span class="pre">Snapshot</span> <span class="pre">Tag</span></code>.</p>
<p>Before nodes in rack are upgraded, underlying StatefulSet is changed to use <code class="docutils literal notranslate"><span class="pre">OnDelete</span></code> UpgradeStrategy.
This allows Operator have a full control over when Pod image is changed.</p>
<p>When a node is being upgraded, <a class="reference internal" href="maintenance-mode.html"><span class="doc std std-doc">maintenance mode</span></a> is enabled, then the node is drained and snapshot of all data keyspaces is taken.
Snapshot tag is saved under <code class="docutils literal notranslate"><span class="pre">Data</span> <span class="pre">Snapshot</span> <span class="pre">Tag</span></code> and is the same for all nodes during the procedure.
Once everything is set up, maintenance mode is disabled and Scylla Pod is deleted. Underlying StatefulSet will bring up a new
Pod with upgraded version.
Once Pod will become ready, data snapshot from this particular node is removed, and Operator moves to next node.</p>
<p>Once every rack is upgraded, system snapshot is removed from all nodes in parallel and previous StatefulSet UpgradeStrategy is restored.
At this point, all your nodes should be already in desired version.</p>
<p>Current state of upgrade can be traced using <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Node</span></code>, <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Rack</span></code> and <code class="docutils literal notranslate"><span class="pre">State</span></code> status fields.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Node</span></code> shows which node is being upgraded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Rack</span></code> displays which rack is being upgraded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">State</span></code> contain information at which stage upgrade is.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">State</span></code> can have following values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">begin_upgrade</span></code> - upgrade is starting</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check_schema_agreement</span></code> - Operator waits until all nodes reach schema agreement. It waits for it for 1 minute, prints an error log message and check is retried.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">create_system_backup</span></code> - system keyspaces snapshot is being taken</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">find_next_rack</span></code> - Operator finds out which rack must be upgraded next, decision is saved in <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Rack</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upgrade_image_in_pod_spec</span></code> - Image and UpgradeStrategy is upgraded in underlying StatefulSet</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">find_next_node</span></code> - Operator finds out which node must be upgraded next, decision is saved in <code class="docutils literal notranslate"><span class="pre">Current</span> <span class="pre">Node</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">enable_maintenance_mode</span></code> - maintenance mode is being enabled</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drain_node</span></code> - node is being drained</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">backup_data</span></code> - snapshot of data keyspaces is being taken</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">disable_maintenance_mode</span></code> - maintenance mode is being disabled</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delete_pod</span></code> - Scylla Pod is being deleted</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">validate_upgrade</span></code> - Operator validates if new pod enters Ready state and if Scylla version is upgraded</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear_data_backup</span></code> - snapshot of data keyspaces is being removed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear_system_backup</span></code> - snapshot of system keyspaces is being removed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">restore_upgrade_strategy</span></code> - restore UpgradeStrategy in underlying StatefulSet</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">finish_upgrade</span></code> - upgrade cleanup</p></li>
</ul>
<p><strong>Recovering from upgrade failure</strong></p>
<p>Upgrade may get stuck on <code class="docutils literal notranslate"><span class="pre">validate_upgrade</span></code> stage. This happens when Scylla Pod refuses to properly boot up.</p>
<p>To continue with upgrade, first turn off operator by scaling Operator replicas to zero:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>-n<span class="w"> </span>scylla-operator<span class="w"> </span>scale<span class="w"> </span>deployment.apps/scylla-operator<span class="w"> </span>--replicas<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p>Then user have to manually resolve issue with Scylla by checking what is the root cause of a failure in Scylla container logs.
If needed data and system keyspaces SSTable snapshots are available on the node. You can check ScyllaCluster status for their names.</p>
<p>Once issue is resolved and Scylla Pod is up and running (Pod is in Ready state), scale Operator back to two replicas:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>-n<span class="w"> </span>scylla-operator<span class="w"> </span>scale<span class="w"> </span>deployment.apps/scylla-operator<span class="w"> </span>--replicas<span class="o">=</span><span class="m">2</span>
</pre></div>
</div>
<p>Operator should continue upgrade process from where it left off.</p>
</section>

                    </div>
                    
                        <div class="post-content">
                            
    <div class="feedback-container">
        <p class="feedback-container__title">Was this page helpful?</p>
        <span data-tooltip tabindex="1" title="Yes" data-position="top">
            <button class="feedback-container__button" id="feedback-positive">
                <i class="feedback-container__icon icon-docs-thumbs-up"></i>
            </button>
        </span>
        <span data-tooltip tabindex="1" title="No" data-position="top">
            <button class="feedback-container__button" id="feedback-negative">
                <i class="feedback-container__icon icon-docs-thumbs-down"></i>
            </button>
        </span>
        <div class="feedback-container__message" id="feedback-message"></div>
    </div>

    <script>
        function resetFeedbackButtonActive() {
            const feedbackButtons = document.getElementsByClassName('feedback-container__button');
            for (let i = 0; i < feedbackButtons.length; i++) {
                feedbackButtons[i].classList.remove('active');
            }
        }

        function showMessage(liked) {
            const feedbackMessage = document.getElementById('feedback-message');
            const themeGithubRepository = true;
            let message = 'Great! Thanks for your feedback.';
            if (themeGithubRepository && !liked) {
                message = "Thanks for your feedback! Please don't hesitate to <a href='https://github.com/scylladb/scylla-operator/issues/new?title=docs:%20Issue on page Upgrading version of Scylla&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://operator.docs.scylladb.com/master/resources/scyllaclusters/nodeoperations/scylla-upgrade%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation'>create an issue</a> if you have any suggestions on how we can improve.";
            }
            feedbackMessage.innerHTML = message;
        }

        function sendGaEvent(liked) {
            const event_label = liked ? "positive" : "negative";
            const event = "feedback_" + event_label;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': event,
            });
        }

        const positiveFeebackButton = document.getElementById('feedback-positive');
        const negativeFeedbackButton = document.getElementById('feedback-negative');

        positiveFeebackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(true);
            showMessage(true);
            positiveFeebackButton.classList.add('active');
        });

        negativeFeedbackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(false);
            showMessage(false);
            negativeFeedbackButton.classList.add('active');
        });
    </script>

                            <div class="content-navigation">
    <div class="navigation navigation--prev">
        
            <a class="navigation__link" href="index.html">
                <button class="navigation__button">
                    <i class="icon-chevron-left"></i>
                </button>
                <div class="navigation__title">
                    <span class="colored">PREVIOUS</span> <br />Node operations using Scylla Operator
                </div>
            </a>
        
    </div>
    <div class="navigation navigation--next">
        
            <a class="navigation__link" href="replace-node.html">
                <div class="navigation__title">
                    <span class="colored">NEXT</span> <br />Replacing a Scylla node
                </div>
                <button class="navigation__button">
                    <i class="icon-chevron-right"></i>
                </button>
            </a>
        
    </div>
</div>
                            <!-- Post content text -->
                        </div>
                    
                
                
                    </div>
                        <div class="sidebar-right large-order-3">
                            <div class="secondary-side-nav custom-scroll-bar">
    
    <ul class="contribute">
        <li class="contribute__item">
            <a class="button button-sm" href="https://github.com/scylladb/scylla-operator/issues/new?title=docs:%20Issue on page Upgrading version of Scylla&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://operator.docs.scylladb.com/master/resources/scyllaclusters/nodeoperations/scylla-upgrade%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation"
               target="_blank">
                <i class="icon-github" aria-hidden="true"></i>Create an issue
            </a>
        </li>
        
            <li class="contribute__item">
                <a class="button button-sm" href="https://github.com/scylladb/scylla-operator/edit/master/docs/source/resources/scyllaclusters/nodeoperations/scylla-upgrade.md"
                   target="_blank">
                    <i class="icon-edit" aria-hidden="true"></i>Edit this page
                </a>
            </li>
        
    </ul>

    
</div>
                        </div>
                    </div>
                
            </div>
            <div class="sidebar-left  large-order-1">
                
                    
                        <div id="side-nav" class="side-nav custom-scroll-bar" data-closable data-toggler=".show">
    <button class="collapsible-button">
        <i class="icon-docs-menu-collapse"></i>
    </button>
    <div class="side-nav-content custom-scroll-bar">
        <div class="side-nav__title">
            <a href="../../../index.html">Scylla Operator</a>
        </div>
        <div class="side-nav__search">
            <div class="search-box">
                <ci-search></ci-search>
            </div>
        </div>
        <div class="side-nav__versions"><ul class="dropdown menu scylla-dropdown scylla-dropdown--versions" data-dropdown-menu>
    <li class="scylla-dropdown__item">
        <a class="scylla-dropdown__title" href="#">
            
                master
            
            <i class="chevron icon-docs-chevron-right"></i>
        </a>
        <ul class="menu scylla-dropdown__content">
            
                
                    <li>
                        <a href="../../../../stable/resources/scyllaclusters/nodeoperations/scylla-upgrade.html">v1.18</a>
                    </li>
                
            
                
                    <li>
                        <a href="../../../../v1.17/resources/scyllaclusters/nodeoperations/scylla-upgrade.html">v1.17</a>
                    </li>
                
            
                
                    <li>
                        <a href="../../../../v1.16/resources/scyllaclusters/nodeoperations/scylla-upgrade.html">v1.16</a>
                    </li>
                
            
                
                    <li>
                        <a href="scylla-upgrade.html">master</a>
                    </li>
                
            
            
        </ul>
    </li>
</ul></div>
        <div class="side-nav__content">
            <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../architecture/index.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/overview.html">Overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../architecture/storage/index.html">Storage</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../architecture/storage/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../architecture/storage/local-csi-driver.html">Local CSI Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/tuning.html">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/manager.html">ScyllaDB Manager</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../installation/index.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/kubernetes-prerequisites.html">Kubernetes prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/gitops.html">GitOps (kubectl)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/helm.html">Helm</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../management/index.html">Management</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../management/sysctls.html">Configuring kernel parameters (sysctls)</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../management/upgrading/index.html">Upgrading</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../management/upgrading/upgrade.html">Upgrading Scylla Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/upgrading/upgrade-scylladb.html">Upgrading ScyllaDB clusters</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../management/monitoring/index.html">Monitoring</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/overview.html">ScyllaDB Monitoring overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/setup.html">ScyllaDB Monitoring setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/exposing-grafana.html">Exposing Grafana</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Resources</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">ScyllaClusters</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../basics.html">ScyllaClusters</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../clients/index.html">ScyllaDB clients</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../clients/discovery.html">Discovering ScyllaDB Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clients/cql.html">Using CQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clients/alternator.html">Using Alternator (DynamoDB)</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="index.html">Node operations using Scylla Operator</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">Upgrading version of Scylla</a></li>
<li class="toctree-l4"><a class="reference internal" href="replace-node.html">Replacing a Scylla node</a></li>
<li class="toctree-l4"><a class="reference internal" href="automatic-cleanup.html">Automatic cleanup and replacement in case when k8s node is lost</a></li>
<li class="toctree-l4"><a class="reference internal" href="maintenance-mode.html">Maintenance mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="restore.html">Restore from backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="volume-expansion.html">Resizing storage in ScyllaCluster</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../multidc/index.html">Deploying multi-datacenter ScyllaDB clusters in Kubernetes</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../common/multidc/eks.html">Build multiple Amazon EKS clusters with inter-Kubernetes networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../common/multidc/gke.html">Build multiple GKE clusters with inter-Kubernetes networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../multidc/multidc.html">Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../common/exposing.html">Exposing ScyllaDB cluster</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../scylladbclusters/index.html">ScyllaDBClusters</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../scylladbclusters/scylladbclusters.html">ScyllaDBClusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common/exposing.html">Exposing ScyllaDB cluster</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nodeconfigs.html">NodeConfigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scyllaoperatorconfigs.html">ScyllaOperatorConfigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../remotekubernetesclusters.html">RemoteKubernetesCluster</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../quickstarts/index.html">Quickstarts</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../quickstarts/gke.html">Deploying ScyllaDB on GKE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../quickstarts/eks.html">Deploying ScyllaDB on EKS</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../support/index.html">Support</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../support/overview.html">Support overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../support/known-issues.html">Known issues</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../support/troubleshooting/index.html">Troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../support/troubleshooting/installation.html">Troubleshooting installation issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../support/must-gather.html">Gathering data with must-gather</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../support/releases.html">Releases</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../api-reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com.html">scylla.scylladb.com</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/nodeconfigs.html">NodeConfig (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/remotekubernetesclusters.html">RemoteKubernetesCluster (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/remoteowners.html">RemoteOwner (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scyllaclusters.html">ScyllaCluster (scylla.scylladb.com/v1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scylladbclusters.html">ScyllaDBCluster (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scylladbdatacenternodesstatusreports.html">ScyllaDBDatacenterNodesStatusReport (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scylladbdatacenters.html">ScyllaDBDatacenter (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scylladbmanagerclusterregistrations.html">ScyllaDBManagerClusterRegistration (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scylladbmanagertasks.html">ScyllaDBManagerTask (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scylladbmonitorings.html">ScyllaDBMonitoring (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api-reference/groups/scylla.scylladb.com/scyllaoperatorconfigs.html">ScyllaOperatorConfig (scylla.scylladb.com/v1alpha1)</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
    </div>
</div>
                    
                
            </div>
            
        </section>

        <footer class="footer">
    <div class="footer-group">
        <div class="footer-top">
            <a class="footer-logo" href="https://www.scylladb.com"></a>
            <div class="footer-links">
                <a class="footer-links__link" href="https://docs.scylladb.com/" target="_blank">Docs</a>
                <a class="footer-links__link" href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html" target="_blank">Tutorials</a>
                <a class="footer-links__link" href="https://university.scylladb.com/" target="_blank">University</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/contact-us/"
                    target="_blank">Contact Us</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/" target="_blank">About Us</a>
            </div>
            <div class="footer-actions">
                <a class="footer-actions__link" href="http://slack.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="User Slack channel" data-position="bottom">
                        <i class="icon-slack"></i>
                    </span>
                </a>
                <a class="footer-actions__link" href="https://forum.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="Community forum" data-position="bottom">
                        <i class="icon-docs-community"></i>
                    </span>
                </a>
            </div>
        </div>

        
        <div class="footer-copyright">
            
                
                    &#169; 2025, ScyllaDB. All rights reserved.
                
                | <a class="footer-copyright__link" href="https://www.scylladb.com/tos/" target="_blank">Terms of Service</a>
                | <a class="footer-copyright__link" href="https://www.scylladb.com/privacy/" target="_blank">Privacy Policy</a>
                | ScyllaDB, and ScyllaDB Cloud, are registered trademarks of ScyllaDB, Inc.
            
        </div>
    


        <div class="footer-bottom">
            
                <div class="footer-bottom__last-updated">
                    
                        Last updated on 31 October 2025.
                    
                </div>
            
            <div class="footer-bottom__version">
                Powered by
                <a class="footer-bottom__link" href="http://sphinx-doc.org/">Sphinx 8.1.3</a> &amp;
                <a class="footer-bottom__link" href="https://sphinx-theme.scylladb.com/">ScyllaDB Theme 1.8.8</a>
            </div>
        </div>
    </div>
    
        <biel-button class="footer-ask-ai" project="ddfdo8m94k" 
            header-title="ScyllaDB chatbot (beta)"
            button-position="bottom-right"
            modal-position="bottom-right"
            button-style="dark">
            Ask AI
        </biel-button>
    
</footer>

        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP" height="0" width="0"
                    style="display: none; visibility: hidden"></iframe>
        </noscript>
    </body>

</html>