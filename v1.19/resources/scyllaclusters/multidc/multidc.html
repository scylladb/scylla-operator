

<!DOCTYPE html>
<html class="no-js" lang="en" style="visibility: hidden;">
    
    

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>
             Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters | ScyllaDB Docs 
        </title>
        <meta name="description" content="ScyllaDB is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server." />
        <link rel="icon" href="../../../_static/img/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../../../_static/img/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="../../../_static/img/favicon-228x228.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="../../../_static/img/favicon-228x228.png" />
        <meta name="msapplication-TileImage" href="../../../_static/img/favicon-228x228.png" />

        
            
            
        

        
            
            <link rel="canonical" href="https://operator.docs.scylladb.com/stable/resources/scyllaclusters/multidc/multidc.html"/>
        

        <link rel="author" href="mailto:info@scylladb.com" />

        
            
        <!-- increase expertrec loading priority-->
        <link rel="dns-prefetch" href="https://cse.expertrec.com">

        <!-- increase font loading priority -->
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- async CSS -->
        <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- no-JS fallback -->
        <noscript>
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />
        </noscript>

        
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css">
            <script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js"></script>
        

        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/css/main.css?v=0ebb4bd5" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/sphinx_collapse.css?v=226d88b4" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=714c36fc" />
            
        
    
        
        
            
        <script type="text/javascript" src="../../../_static/js/runtime.bundle.js"></script>
        <script type="text/javascript" src="../../../_static/js/main.bundle.js"></script>
        
            
                <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
            
        
            
                <script src="../../../_static/doctools.js?v=9bcbadda"></script>
            
        
            
                <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
            
        
            
                <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
            
        
            
                <script src="../../../_static/copybutton.js?v=f281be69"></script>
            
        
    
            
                <!-- Local meta tags -->
            
            
                <!-- Google Tag Manager docs -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-54NWVS4");
</script>
<!-- End Google Tag Manager -->

<!-- Google Tag Manager global -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T8P2JP");
</script>
<!-- End Google Tag Manager -->

<!-- Expertrec -->
<script>
    var id = "e2077224-9ccf-11e9-a0c9-0242ac130002";
    var ci_search = document.createElement("script");
    ci_search.type = "text/javascript";
    ci_search.async = true;
    ci_search.src = "https://cse.expertrec.com/api/js/ci_common.js?id=" + id;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ci_search, s);
</script>
<!-- End Expertrec -->
            
        
    </head>

    <body class="brand-product">
        <section class="promo-banner  promo-banner--hide" style="display: none;">
    <div class="promo-banner-wrapper">
        <div class="promo-banner__content">
            
            <div class="promo-banner__title">ScyllaDB University Live | Free Virtual Training Event</div>
            <a class="promo-banner__button button button--reverse" href="#"
               target="_blank" rel="noopener noreferrer">Learn more</a>
        </div>
        <button class="promo-banner__close">
            <i class="icon-cancel"></i>
        </button>
    </div>
</section>
        <header class="header">
    <div class="header-logo">
        <a class="header-logo__img" href="https://scylladb.com/">
            <img src="../../../_static/img/scylladb-logo-horizontal.svg" alt="ScyllaDB Documentation Logo" />
        </a>
        <span class="header-logo__bar"></span>
        <a class="header-logo__text" href="https://docs.scylladb.com/">
            Documentation
        </a>
    </div>
    <div class="header-navigation">
        <ul class="dropdown menu scylla-dropdown scylla-dropdown--header" data-dropdown-menu>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Deployments <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">
                            <i class="icon-docs-cloud"></i>Cloud</a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/">
                            <i class="icon-server"></i>Server</a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Tools <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://manager.docs.scylladb.com/">
                            <i class="icon-docs-manager"></i>ScyllaDB Manager</a>
                    </li>
                    <li>
                        <a href="https://monitoring.docs.scylladb.com/">
                            <i class="icon-docs-monitoring"></i>ScyllaDB
                            Monitoring Stack</a>
                    </li>
                    <li>
                        <a href="https://operator.docs.scylladb.com/">
                            <i class="icon-docs-operator"></i>ScyllaDB Operator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Drivers <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/stable/drivers/cql-drivers">
                            <i class="icon-docs-nsql-guides"></i>CQL Drivers
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/drivers/dynamo-drivers">
                            <i class="icon-docs-alternator"></i>DynamoDB Drivers
                        </a>

                        <li>
                            <a href="https://docs.scylladb.com/stable/versioning/driver-support">
                                <i class="icon-docs-blog"></i>Supported Driver Versions
                            </a>
                        </li>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Resources
                    <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://university.scylladb.com">
                            <i class="icon-university"></i>
                            ScyllaDB University
                        </a>
                    </li>
                    <li>
                        <a href="https://forum.scylladb.com">
                            <i class="icon-docs-community"></i>
                            Community Forum
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html">
                            <i class="icon-docs-training"></i>
                            Tutorials
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="header-button">
            <a href="https://docs.scylladb.com/manual/stable/getting-started/installation-common/scylla-web-installer.html" class="button"><i class="icon-download me-2"></i> Install</a>
        </div>
    </div>
    <div class="header-search-box">
        <i class="dark-theme-toggler icon-theme"></i>
        <div class="search-box">
            <ci-search></ci-search>
        </div>
        
            <biel-button class="header-ask-ai" project="ddfdo8m94k"
                         header-title="ScyllaDB chatbot (beta)"
                         button-position="default"
                         modal-position="bottom-right"
                         button-style="dark">
                Ask AI
            </biel-button>
        
    </div>
    <div class="side-nav-toggle">
    <i class="dark-theme-toggler icon-theme"></i>
    <div class="side-nav-toggle__button" data-toggle="side-nav">
        <i class="icon-menu"></i>
    </div>
</div>
</header>
        <div class="title"></div>
        <section
            class="layout  layout--sidebar layout--has-secondary-sidebar ">
            <div class="content large-order-2">
                
                    <div class="pre-content">
                        <div class="breadcrumbs">
    <span class="bread__item">
        <a href="https://docs.scylladb.com"
           class="bread__highlight">
            <i class="icon-home"></i> ScyllaDB Docs
        </a>
    </span>
    <span class="bread__item">
        <a href="../../../index.html"
           class="bread__highlight">
            ScyllaDB Operator
        </a>
    </span>
    
        <span class="bread__item">
            <a href="../../index.html" class="bread__highlight">
                Resources
            </a>
        </span>
    
        <span class="bread__item">
            <a href="../index.html" class="bread__highlight">
                ScyllaClusters
            </a>
        </span>
    
        <span class="bread__item">
            <a href="index.html" class="bread__highlight">
                Deploying multi-datacenter ScyllaDB clusters in Kubernetes
            </a>
        </span>
    
    <span class="bread__item bread__item--last">Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters</span>
</div>
                    </div>
                
                
                    <div class="sidebar-right-layout">
                        <div class="body-container">
                

                <div class="content-body">
                    
                        
    <div class="admonition caution">
        <p class="admonition-title">Caution</p>
        <p>
            
                You're viewing documentation for a previous version of ScyllaDB Operator.
            
            <a href="../../../../stable/resources/scyllaclusters/multidc/multidc.html">Switch to the latest stable version.</a>
        </p>
    </div>

                    

                    <section id="deploy-a-multi-datacenter-scylladb-cluster-in-multiple-interconnected-kubernetes-clusters">
<h1>Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters<a class="headerlink" href="#deploy-a-multi-datacenter-scylladb-cluster-in-multiple-interconnected-kubernetes-clusters" title="Link to this heading">¶</a></h1>
<p>This document describes the process of deploying a Multi Datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters.</p>
<p>This guide will walk you through the example procedure of deploying two datacenters in distinct regions of a selected cloud provider.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide is dedicated to deploying multi-datacenter ScyllaDB clusters and does not discuss unrelated configuration options.
For details of ScyllaDB cluster deployments and their configuration, see the <a class="reference internal" href="../basics.html"><span class="std std-doc">ScyllaCluster resource documentation</span></a>.</p>
</div>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h2>
<p>As this document describes the procedure of deploying a Multi Datacenter ScyllaDB cluster, you are expected to have the required infrastructure prepared.
Let’s assume two interconnected Kubernetes clusters, capable of communicating with each other over PodIPs, with each cluster meeting the following requirements:</p>
<ul class="simple">
<li><p>a node pool dedicated to ScyllaDB nodes composed of at least 3 nodes running in different zones (with unique <code class="docutils literal notranslate"><span class="pre">topology.kubernetes.io/zone</span></code> label), configured to run ScyllaDB, each labeled with <code class="docutils literal notranslate"><span class="pre">scylla.scylladb.com/node-type:</span> <span class="pre">scylla</span></code></p></li>
<li><p>running Scylla Operator and its prerequisites</p></li>
<li><p>running a storage provisioner capable of provisioning XFS volumes of StorageClass <code class="docutils literal notranslate"><span class="pre">scylladb-local-xfs</span></code> in each of the nodes dedicated to ScyllaDB instances</p></li>
</ul>
<p>You can refer to one of our guides describing the process of preparing such infrastructure:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../common/multidc/eks.html"><span class="std std-doc">Build multiple Amazon EKS clusters with Inter-Kubernetes networking</span></a></p></li>
<li><p><a class="reference internal" href="../../common/multidc/gke.html"><span class="std std-doc">Build multiple GKE clusters with Inter-Kubernetes networking</span></a></p></li>
</ul>
<p>Additionally, to follow the below guide, you need to install and configure the following tools that you will need to manage Kubernetes resources:</p>
<ul class="simple">
<li><p>kubectl – A command line tool for working with Kubernetes clusters.</p></li>
</ul>
<p>See <a class="reference external" href="https://kubernetes.io/docs/tasks/tools/">Install Tools</a> in Kubernetes documentation for reference.</p>
</section>
<section id="multi-datacenter-scylladb-cluster">
<h2>Multi Datacenter ScyllaDB Cluster<a class="headerlink" href="#multi-datacenter-scylladb-cluster" title="Link to this heading">¶</a></h2>
<p>In v1.11, Scylla Operator introduced support for manual multi-datacenter ScyllaDB cluster deployments.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Scylla Operator only supports <em>manual configuration</em> of multi-datacenter ScyllaDB clusters.
In other words, although ScyllaCluster API exposes the machinery necessary for setting up multi-datacenter ScylaDB clusters, the Scylla Operator only automates operations for a single datacenter.</p>
<p>Operations related to multiple datacenters may require manual intervention of a human operator.
Most notably, destroying one of the Kubernetes clusters or ScyllaDB datacenters is going to leave DN nodes behind in other datacenters, and their removal has to be carried out manually.</p>
</div>
<p>The main mechanism used to set up a manual multi-datacenter ScyllaDB cluster is a field in ScyllaCluster’s specification - <code class="docutils literal notranslate"><span class="pre">externalSeeds</span></code>.</p>
<section id="external-seeds">
<h3>External seeds<a class="headerlink" href="#external-seeds" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">externalSeeds</span></code> field in ScyllaCluster’s specification enables control over external seeds that are propagated to ScyllaDB binary as <code class="docutils literal notranslate"><span class="pre">--seed-provider-parameters</span> <span class="pre">seeds=&lt;external-seeds&gt;</span></code>.
In this context, external should be understood as “external to the datacenter being specified by the API”.
The provided seeds are used by the nodes as initial points of contact, which allows them to discover the cluster ring topology when joining it.</p>
<p>Refer to <a class="reference external" href="https://opensource.docs.scylladb.com/stable/kb/seed-nodes.html">Scylla Seed Nodes</a> in ScyllaDB documentation for more information regarding the function of seed nodes in ScyllaDB.
For more details regarding the function and implementation of external seeds, refer to <a class="reference external" href="https://github.com/scylladb/scylla-operator/tree/v1.11/enhancements/proposals/1304-external-seeds">the original enhancement proposal</a>.</p>
</section>
<section id="networking">
<h3>Networking<a class="headerlink" href="#networking" title="Link to this heading">¶</a></h3>
<p>Since this guide assumes interconnectivity over PodIPs of the Kubernetes clusters, you are going to configure the ScyllaDB cluster’s nodes to communicate over PodIPs.
This is enabled by a subset of <code class="docutils literal notranslate"><span class="pre">exposeOptions</span></code> specified in ScyllaCluster API, introduced in v1.11.</p>
<p>For this particular setup, define the ScyllaClusters as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
</pre></div>
</div>
<p>However, other configuration options allow for the manual deployment of multi-datacenter ScyllaDB clusters in different network setups. For details, refer to <a class="reference internal" href="../../common/exposing.html"><span class="std std-doc">Exposing ScyllaClusters</span></a> in Scylla Operator documentation.</p>
<section id="deploy-a-multi-datacenter-scylladb-cluster">
<h4>Deploy a multi-datacenter ScyllaDB Cluster<a class="headerlink" href="#deploy-a-multi-datacenter-scylladb-cluster" title="Link to this heading">¶</a></h4>
</section>
<section id="using-context">
<h4>Using context<a class="headerlink" href="#using-context" title="Link to this heading">¶</a></h4>
<p>Let’s specify contexts for <code class="docutils literal notranslate"><span class="pre">kubectl</span></code> commands used throughout the guide.
To retrieve the context of your current cluster, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>config<span class="w"> </span>current-context
</pre></div>
</div>
<p>Save the contexts of the two clusters, which you are going to deploy the datacenters in, as <code class="docutils literal notranslate"><span class="pre">CONTEXT_DC1</span></code> and <code class="docutils literal notranslate"><span class="pre">CONTEXT_DC2</span></code> environment variables correspondingly.</p>
</section>
<section id="deploy-the-first-datacenter">
<h4>Deploy the first datacenter<a class="headerlink" href="#deploy-the-first-datacenter" title="Link to this heading">¶</a></h4>
<p>First, run the below command to create a dedicated ‘scylla’ namespace:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>create<span class="w"> </span>ns<span class="w"> </span>scylla
</pre></div>
</div>
<p>For this guide, let’s assume that your cluster is running in <code class="docutils literal notranslate"><span class="pre">us-east-1</span></code> region and the nodes dedicated to running ScyllaDB nodes are running in zones <code class="docutils literal notranslate"><span class="pre">us-east-1a</span></code>, <code class="docutils literal notranslate"><span class="pre">us-east-1b</span></code> and <code class="docutils literal notranslate"><span class="pre">us-east-1c</span></code> correspondingly. If that is not the case, adjust the manifest accordingly.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To ensure high availability and fault tolerance in ScyllaDB, it is crucial to <strong>spread your nodes across multiple racks or availability zones</strong>. As a general rule of thumb, you should use <strong>as many racks as your desired replication factor</strong>.</p>
<p>For example, if your replication factor is <code class="docutils literal notranslate"><span class="pre">3</span></code>, deploy your nodes across <strong>3 different racks or availability zones</strong>. This minimizes the risk of data loss and ensures your cluster remains available even if an entire rack or zone fails.</p>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.spec.name</span></code> field of the ScyllaCluster objects represents the ScyllaDB cluster name and has to be consistent across all datacenters of this ScyllaDB cluster.
The names of the datacenters, specified in <code class="docutils literal notranslate"><span class="pre">.spec.datacenter.name</span></code>, have to be unique across the entire multi-datacenter cluster.</p>
<p>For more information see <a class="reference external" href="https://opensource.docs.scylladb.com/stable/operating-scylla/procedures/cluster-management/create-cluster-multidc.html">Create a ScyllaDB Cluster - Multi Data Centers (DC)</a> in ScyllaDB documentation.</p>
</div>
<p>Save the ScyllaCluster manifest in <code class="docutils literal notranslate"><span class="pre">dc1.yaml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">agentVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.7.0</span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2025.3.3</span>
<span class="w">  </span><span class="nt">cpuset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">automaticOrphanedNodeCleanup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
<span class="w">  </span><span class="nt">datacenter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
<span class="w">    </span><span class="nt">racks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a</span>
<span class="w">      </span><span class="nt">members</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">storage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylladb-local-xfs</span>
<span class="w">        </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800G</span>
<span class="w">      </span><span class="nt">agentResources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">      </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">podAntiAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">topologyKey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
<span class="w">            </span><span class="nt">labelSelector</span><span class="p">:</span>
<span class="w">              </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">                </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">                </span><span class="nt">scylla/cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">        </span><span class="nt">nodeAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">            </span><span class="nt">nodeSelectorTerms</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">matchExpressions</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">topology.kubernetes.io/zone</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1a</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/node-type</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">        </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoSchedule</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-operator.scylladb.com/dedicated</span>
<span class="w">          </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Equal</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scyllaclusters</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">b</span>
<span class="w">      </span><span class="nt">members</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">storage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylladb-local-xfs</span>
<span class="w">        </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800G</span>
<span class="w">      </span><span class="nt">agentResources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">      </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">podAntiAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">topologyKey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
<span class="w">            </span><span class="nt">labelSelector</span><span class="p">:</span>
<span class="w">              </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">                </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">                </span><span class="nt">scylla/cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">        </span><span class="nt">nodeAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">            </span><span class="nt">nodeSelectorTerms</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">matchExpressions</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">topology.kubernetes.io/zone</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1b</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/node-type</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">        </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoSchedule</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-operator.scylladb.com/dedicated</span>
<span class="w">          </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Equal</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scyllaclusters</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c</span>
<span class="w">      </span><span class="nt">members</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">storage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylladb-local-xfs</span>
<span class="w">        </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800G</span>
<span class="w">      </span><span class="nt">agentResources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">      </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">podAntiAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">topologyKey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
<span class="w">            </span><span class="nt">labelSelector</span><span class="p">:</span>
<span class="w">              </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">                </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">                </span><span class="nt">scylla/cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">        </span><span class="nt">nodeAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">            </span><span class="nt">nodeSelectorTerms</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">matchExpressions</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">topology.kubernetes.io/zone</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-1c</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/node-type</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">        </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoSchedule</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-operator.scylladb.com/dedicated</span>
<span class="w">          </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Equal</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scyllaclusters</span>
</pre></div>
</div>
<p>Apply the manifest:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>apply<span class="w"> </span>--server-side<span class="w"> </span>-f<span class="o">=</span>dc1.yaml
</pre></div>
</div>
<p>Wait for the cluster to be fully rolled out:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>--for<span class="o">=</span><span class="s1">&#39;condition=Progressing=False&#39;</span><span class="w"> </span>scyllaclusters.scylla.scylladb.com/scylla-cluster
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scyllacluster.scylla.scylladb.com/scylla-cluster condition met</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>--for<span class="o">=</span><span class="s1">&#39;condition=Degraded=False&#39;</span><span class="w"> </span>scyllaclusters.scylla.scylladb.com/scylla-cluster
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scyllacluster.scylla.scylladb.com/scylla-cluster condition met</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>--for<span class="o">=</span><span class="s1">&#39;condition=Available=True&#39;</span><span class="w"> </span>scyllaclusters.scylla.scylladb.com/scylla-cluster
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scyllacluster.scylla.scylladb.com/scylla-cluster condition met</span>
</pre></div>
</div>
<p>You can now verify that all the nodes of your cluster are in UN state:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>pod/scylla-cluster-us-east-1-a-0<span class="w"> </span>-c<span class="o">=</span>scylla<span class="w"> </span>--<span class="w"> </span>nodetool<span class="w"> </span>status
</pre></div>
</div>
<p>The expected output should look similar to the below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Datacenter: us-east-1</span>
<span class="go">=====================</span>
<span class="go">Status=Up/Down</span>
<span class="go">|/ State=Normal/Leaving/Joining/Moving</span>
<span class="go">--  Address      Load       Tokens       Owns    Host ID                               Rack</span>
<span class="go">UN  10.0.70.195  290 KB     256          ?       494277b9-121c-4af9-bd63-3d0a7b9305f7  c</span>
<span class="go">UN  10.0.59.24   559 KB     256          ?       a3a98e08-0dfd-4a25-a96a-c5ab2f47eb37  b</span>
<span class="go">UN  10.0.19.237  107 KB     256          ?       64b6292a-327f-4128-852a-6004039f402e  a</span>
</pre></div>
</div>
<section id="retrieve-podips-of-scylladb-nodes-for-use-as-external-seeds">
<h5>Retrieve PodIPs of ScyllaDB nodes for use as external seeds<a class="headerlink" href="#retrieve-podips-of-scylladb-nodes-for-use-as-external-seeds" title="Link to this heading">¶</a></h5>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to the ephemeral nature of PodIPs, it is ill-advised to use them as seeds in production environments.
This is because there is a high likelihood that the Pods of your ScyllaDB clusters will change their IPs during the cluster’s lifecycle, and so the provided seeds will no longer point to the ScyllaDB nodes.
It is undesired, as the seeds provided on node’s startup may serve as fallback contact points when all of the node’s peers are unreachable.
In production environments, it is recommended that you use domain names or non-ephemeral IP addresses as external seeds.
PodIPs are being used in this example for the sheer simplicity of this setup.</p>
</div>
<p>Use the below commands and their expected outputs as a reference for retrieving the PodIPs used by the cluster for inter-node communication.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>get<span class="w"> </span>pod/scylla-cluster-us-east-1-a-0<span class="w"> </span>--template<span class="o">=</span><span class="s1">&#39;{{ .status.podIP }}&#39;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">10.0.19.237</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>get<span class="w"> </span>pod/scylla-cluster-us-east-1-b-0<span class="w"> </span>--template<span class="o">=</span><span class="s1">&#39;{{ .status.podIP }}&#39;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">10.0.59.24</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>get<span class="w"> </span>pod/scylla-cluster-us-east-1-c-0<span class="w"> </span>--template<span class="o">=</span><span class="s1">&#39;{{ .status.podIP }}&#39;</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">10.0.70.195</span>
</pre></div>
</div>
<p>You are going to utilize the retrieved addresses as seeds for the other datacenter.</p>
</section>
</section>
<section id="deploy-the-second-datacenter">
<h4>Deploy the second datacenter<a class="headerlink" href="#deploy-the-second-datacenter" title="Link to this heading">¶</a></h4>
<p>To deploy the second datacenter, you will follow similar steps.</p>
<p>First, create a dedicated ‘scylla’ namespace:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>create<span class="w"> </span>ns<span class="w"> </span>scylla
</pre></div>
</div>
<p>Replace the values in <code class="docutils literal notranslate"><span class="pre">.spec.externalSeeds</span></code> of the below manifest with the Pod IP addresses that you retrieved earlier.
The provided values are going to serve as initial contact points for the joining nodes of the second datacenter.</p>
<p>For this guide, let’s assume that the second cluster is running in <code class="docutils literal notranslate"><span class="pre">us-east-2</span></code> region and the nodes dedicated for running ScyllaDB nodes are running in zones <code class="docutils literal notranslate"><span class="pre">us-east-2a</span></code>, <code class="docutils literal notranslate"><span class="pre">us-east-2b</span></code> and <code class="docutils literal notranslate"><span class="pre">us-east-2c</span></code> correspondingly. If that is not the case, adjust the manifest accordingly.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To ensure high availability and fault tolerance in ScyllaDB, it is crucial to <strong>spread your nodes across multiple racks or availability zones</strong>. As a general rule of thumb, you should use <strong>as many racks as your desired replication factor</strong>.</p>
<p>For example, if your replication factor is <code class="docutils literal notranslate"><span class="pre">3</span></code>, deploy your nodes across <strong>3 different racks or availability zones</strong>. This minimizes the risk of data loss and ensures your cluster remains available even if an entire rack or zone fails.</p>
</div>
<p>Having configured it, save the manifest as <code class="docutils literal notranslate"><span class="pre">dc2.yaml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">agentVersion</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">agentVersion</span><span class="w"> </span><span class="p p-Indicator">}}</span>
<span class="w">  </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{{</span><span class="w"> </span><span class="nv">imageTag</span><span class="w"> </span><span class="p p-Indicator">}}</span>
<span class="w">  </span><span class="nt">cpuset</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">automaticOrphanedNodeCleanup</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
<span class="w">  </span><span class="nt">externalSeeds</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.0.19.237</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.0.59.24</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10.0.70.195</span>
<span class="w">  </span><span class="nt">datacenter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-2</span>
<span class="w">    </span><span class="nt">racks</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">a</span>
<span class="w">      </span><span class="nt">members</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">storage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylladb-local-xfs</span>
<span class="w">        </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800G</span>
<span class="w">      </span><span class="nt">agentResources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">      </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">podAntiAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">topologyKey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
<span class="w">            </span><span class="nt">labelSelector</span><span class="p">:</span>
<span class="w">              </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">                </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">                </span><span class="nt">scylla/cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">        </span><span class="nt">nodeAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">            </span><span class="nt">nodeSelectorTerms</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">matchExpressions</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">topology.kubernetes.io/zone</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-2a</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/node-type</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">        </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoSchedule</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-operator.scylladb.com/dedicated</span>
<span class="w">          </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Equal</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scyllaclusters</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">b</span>
<span class="w">      </span><span class="nt">members</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">storage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylladb-local-xfs</span>
<span class="w">        </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800G</span>
<span class="w">      </span><span class="nt">agentResources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">      </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">podAntiAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">topologyKey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
<span class="w">            </span><span class="nt">labelSelector</span><span class="p">:</span>
<span class="w">              </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">                </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">                </span><span class="nt">scylla/cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">        </span><span class="nt">nodeAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">            </span><span class="nt">nodeSelectorTerms</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">matchExpressions</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">topology.kubernetes.io/zone</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-2b</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/node-type</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">        </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoSchedule</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-operator.scylladb.com/dedicated</span>
<span class="w">          </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Equal</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scyllaclusters</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">c</span>
<span class="w">      </span><span class="nt">members</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">      </span><span class="nt">storage</span><span class="p">:</span>
<span class="w">        </span><span class="nt">storageClassName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylladb-local-xfs</span>
<span class="w">        </span><span class="nt">capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1800G</span>
<span class="w">      </span><span class="nt">agentResources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">250M</span>
<span class="w">      </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">        </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">        </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">          </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<span class="w">          </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">56G</span>
<span class="w">      </span><span class="nt">placement</span><span class="p">:</span>
<span class="w">        </span><span class="nt">podAntiAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">topologyKey</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kubernetes.io/hostname</span>
<span class="w">            </span><span class="nt">labelSelector</span><span class="p">:</span>
<span class="w">              </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">                </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">                </span><span class="nt">scylla/cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-cluster</span>
<span class="w">        </span><span class="nt">nodeAffinity</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requiredDuringSchedulingIgnoredDuringExecution</span><span class="p">:</span>
<span class="w">            </span><span class="nt">nodeSelectorTerms</span><span class="p">:</span>
<span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">matchExpressions</span><span class="p">:</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">topology.kubernetes.io/zone</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">us-east-2c</span>
<span class="w">              </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/node-type</span>
<span class="w">                </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">In</span>
<span class="w">                </span><span class="nt">values</span><span class="p">:</span>
<span class="w">                </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla</span>
<span class="w">        </span><span class="nt">tolerations</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoSchedule</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla-operator.scylladb.com/dedicated</span>
<span class="w">          </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Equal</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scyllaclusters</span>
</pre></div>
</div>
<p>To apply the manifest, run:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>apply<span class="w"> </span>--server-side<span class="w"> </span>-f<span class="o">=</span>dc2.yaml
</pre></div>
</div>
<p>Wait for the second datacenter to roll out:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>--for<span class="o">=</span><span class="s1">&#39;condition=Progressing=False&#39;</span><span class="w"> </span>scyllaclusters.scylla.scylladb.com/scylla-cluster
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scyllacluster.scylla.scylladb.com/scylla-cluster condition met</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>--for<span class="o">=</span><span class="s1">&#39;condition=Degraded=False&#39;</span><span class="w"> </span>scyllaclusters.scylla.scylladb.com/scylla-cluster
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scyllacluster.scylla.scylladb.com/scylla-cluster condition met</span>
</pre></div>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">wait</span><span class="w"> </span>--for<span class="o">=</span><span class="s1">&#39;condition=Available=True&#39;</span><span class="w"> </span>scyllaclusters.scylla.scylladb.com/scylla-cluster
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">scyllacluster.scylla.scylladb.com/scylla-cluster condition met</span>
</pre></div>
</div>
<p>You can verify that the nodes have joined the existing cluster and that you are now running a multi-datacenter ScyllaDB cluster by running <code class="docutils literal notranslate"><span class="pre">nodetool</span> <span class="pre">status</span></code> with the below command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>pod/scylla-cluster-us-east-2-a-0<span class="w"> </span>-c<span class="o">=</span>scylla<span class="w"> </span>--<span class="w"> </span>nodetool<span class="w"> </span>status
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Datacenter: us-east-1</span>
<span class="go">=====================</span>
<span class="go">Status=Up/Down</span>
<span class="go">|/ State=Normal/Leaving/Joining/Moving</span>
<span class="go">--  Address        Load       Tokens       Owns    Host ID                               Rack</span>
<span class="go">UN  10.0.70.195    705 KB     256          ?       494277b9-121c-4af9-bd63-3d0a7b9305f7  c</span>
<span class="go">UN  10.0.59.24     764 KB     256          ?       a3a98e08-0dfd-4a25-a96a-c5ab2f47eb37  b</span>
<span class="go">UN  10.0.19.237    634 KB     256          ?       64b6292a-327f-4128-852a-6004039f402e  a</span>
<span class="go">Datacenter: us-east-2</span>
<span class="go">=====================</span>
<span class="go">Status=Up/Down</span>
<span class="go">|/ State=Normal/Leaving/Joining/Moving</span>
<span class="go">--  Address        Load       Tokens       Owns    Host ID                               Rack</span>
<span class="go">UN  172.16.39.209  336 KB     256          ?       7c30ea55-7a4f-4d93-86f7-c881772ebe62  b</span>
<span class="go">UN  172.16.25.18   759 KB     256          ?       665dde7e-e420-4db3-8c54-ca71efd39b2e  a</span>
<span class="go">UN  172.16.87.27   503 KB     256          ?       c19c89cb-e24c-4062-9df4-2aa90ab29a99  c</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="scylla-manager">
<h2>Scylla Manager<a class="headerlink" href="#scylla-manager" title="Link to this heading">¶</a></h2>
<p>To integrate a multi-datacenter ScyllaDB cluster with Scylla Manager, you must deploy the Scylla Manager in only one datacenter.</p>
<p>In this example, let’s choose the Kubernetes cluster deployed in the first datacenter to host it.
To deploy Scylla Manager, follow the steps described in <a class="reference internal" href="../../../architecture/manager.html"><span class="std std-doc">Deploying Scylla Manager on a Kubernetes Cluster</span></a>
in Scylla Operator documentation.</p>
<p>In order to define the Scylla Manager tasks, add them to the ScyllaCluster object deployed in the same Kubernetes cluster
in which your Scylla Manager is running.</p>
<p>Every datacenter (represented by ScyllaCluster CR) is, by default, provisioned with a new, random Scylla Manager Agent auth token.
To use Scylla Manager with multiple datacenter (represented by ScyllaClusters), you have to make sure they all use the same token.</p>
<p>Extract it from the first datacenter with the below command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC1</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>get<span class="w"> </span>secrets/scylla-cluster-auth-token<span class="w"> </span>--template<span class="o">=</span><span class="s1">&#39;{{ index .data &quot;auth-token.yaml&quot; }}&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>base64<span class="w"> </span>-d
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">auth_token: 84qtsfvm98qzmps8s65zr2vtpb8rg4sdzcbg4pbmg2pfhxwpg952654gj86tzdljfqnsghndljm58mmhpmwfgpsvjx2kkmnns8bnblmgkbl9n8l9f64rs6tcvttm7kmf</span>
</pre></div>
</div>
<p>Save the output, replace the token with your own, and patch the secret in the second datacenter with the below command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>patch<span class="w"> </span>secret/scylla-cluster-auth-token--type<span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="w"> </span>-p<span class="o">=</span><span class="s1">&#39;[{&quot;op&quot;: &quot;add&quot;, &quot;path&quot;: &quot;/stringData&quot;, &quot;value&quot;: {&quot;auth-token.yaml&quot;: &quot;auth_token: 84qtsfvm98qzmps8s65zr2vtpb8rg4sdzcbg4pbmg2pfhxwpg952654gj86tzdljfqnsghndljm58mmhpmwfgpsvjx2kkmnns8bnblmgkbl9n8l9f64rs6tcvttm7kmf&quot;}}]&#39;</span>
</pre></div>
</div>
<p>Execute a rolling restart of the nodes in DC2 to make sure they pick up the new token:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl<span class="w"> </span>--context<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">CONTEXT_DC2</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span>-n<span class="o">=</span>scylla<span class="w"> </span>patch<span class="w"> </span>scyllacluster/scylla-cluster<span class="w"> </span>--type<span class="o">=</span><span class="s1">&#39;merge&#39;</span><span class="w"> </span>-p<span class="o">=</span><span class="s1">&#39;{&quot;spec&quot;: {&quot;forceRedeploymentReason&quot;: &quot;sync scylla-manager-agent token (&#39;</span><span class="s2">&quot;</span><span class="k">$(</span><span class="w"> </span>date<span class="w"> </span><span class="k">)</span><span class="s2">&quot;</span><span class="s1">&#39;)&quot;}}&#39;</span>
</pre></div>
</div>
</section>
<section id="scylladbmonitoring">
<h2>ScyllaDBMonitoring<a class="headerlink" href="#scylladbmonitoring" title="Link to this heading">¶</a></h2>
<p>To monitor your cluster, deploy ScyllaDBMonitoring in every datacenter independently.
To deploy ScyllaDB Monitoring, follow the steps described in <a class="reference internal" href="../../../management/monitoring/setup.html"><span class="std std-doc">ScyllaDB Monitoring setup</span></a> in Scylla Operator documentation.</p>
</section>
</section>

                </div>
                
                    <div class="post-content">
                        
    <div class="feedback-container">
        <p class="feedback-container__title">Was this page helpful?</p>
        <span data-tooltip tabindex="1" title="Yes" data-position="top">
            <button class="feedback-container__button" id="feedback-positive">
                <i class="feedback-container__icon icon-docs-thumbs-up"></i>
            </button>
        </span>
        <span data-tooltip tabindex="1" title="No" data-position="top">
            <button class="feedback-container__button" id="feedback-negative">
                <i class="feedback-container__icon icon-docs-thumbs-down"></i>
            </button>
        </span>
        <div class="feedback-container__message" id="feedback-message"></div>
    </div>

    <script>
        function resetFeedbackButtonActive() {
            const feedbackButtons = document.getElementsByClassName('feedback-container__button');
            for (let i = 0; i < feedbackButtons.length; i++) {
                feedbackButtons[i].classList.remove('active');
            }
        }

        function showMessage(liked) {
            const feedbackMessage = document.getElementById('feedback-message');
            const themeGithubRepository = true;
            let message = 'Great! Thanks for your feedback.';
            if (themeGithubRepository && !liked) {
                message = "Thanks for your feedback! Please don't hesitate to <a href='https://github.com/scylladb/scylla-operator/issues/new?title=docs:%20Issue on page Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://operator.docs.scylladb.com/v1.19/resources/scyllaclusters/multidc/multidc%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation'>create an issue</a> if you have any suggestions on how we can improve.";
            }
            feedbackMessage.innerHTML = message;
        }

        function sendGaEvent(liked) {
            const event_label = liked ? "positive" : "negative";
            const event = "feedback_" + event_label;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': event,
            });
        }

        const positiveFeebackButton = document.getElementById('feedback-positive');
        const negativeFeedbackButton = document.getElementById('feedback-negative');

        positiveFeebackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(true);
            showMessage(true);
            positiveFeebackButton.classList.add('active');
        });

        negativeFeedbackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(false);
            showMessage(false);
            negativeFeedbackButton.classList.add('active');
        });
    </script>

                        <div class="content-navigation">
    <div class="navigation navigation--prev">
        
            <a class="navigation__link" href="../../common/multidc/gke.html">
                <button class="navigation__button">
                    <i class="icon-chevron-left"></i>
                </button>
                <div class="navigation__title">
                    <span class="colored">PREVIOUS</span> <br />Build multiple GKE clusters with inter-Kubernetes networking
                </div>
            </a>
        
    </div>
    <div class="navigation navigation--next">
        
            <a class="navigation__link" href="../../common/exposing.html">
                <div class="navigation__title">
                    <span class="colored">NEXT</span> <br />Exposing ScyllaDB cluster
                </div>
                <button class="navigation__button">
                    <i class="icon-chevron-right"></i>
                </button>
            </a>
        
    </div>
</div>
                        <!-- Post content text -->
                    </div>
                

                
                    </div>
                    <div class="sidebar-right large-order-3">
                        <div class="secondary-side-nav custom-scroll-bar">
    
    <ul class="contribute">
        <li class="contribute__item">
            <a class="button button-sm" href="https://github.com/scylladb/scylla-operator/issues/new?title=docs:%20Issue on page Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://operator.docs.scylladb.com/v1.19/resources/scyllaclusters/multidc/multidc%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation"
               target="_blank">
                <i class="icon-github" aria-hidden="true"></i>Create an issue
            </a>
        </li>
        
            <li class="contribute__item">
                <a class="button button-sm" href="https://github.com/scylladb/scylla-operator/edit/master/docs/source/resources/scyllaclusters/multidc/multidc.md"
                   target="_blank">
                    <i class="icon-edit" aria-hidden="true"></i>Edit this page
                </a>
            </li>
        
    </ul>

    
        <div class="secondary-side-nav__content">
            <p class="topic-title">On this page</p>
            <ul>
<li><a class="reference internal" href="#">Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#multi-datacenter-scylladb-cluster">Multi Datacenter ScyllaDB Cluster</a><ul>
<li><a class="reference internal" href="#external-seeds">External seeds</a></li>
<li><a class="reference internal" href="#networking">Networking</a><ul>
<li><a class="reference internal" href="#deploy-a-multi-datacenter-scylladb-cluster">Deploy a multi-datacenter ScyllaDB Cluster</a></li>
<li><a class="reference internal" href="#using-context">Using context</a></li>
<li><a class="reference internal" href="#deploy-the-first-datacenter">Deploy the first datacenter</a><ul>
<li><a class="reference internal" href="#retrieve-podips-of-scylladb-nodes-for-use-as-external-seeds">Retrieve PodIPs of ScyllaDB nodes for use as external seeds</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deploy-the-second-datacenter">Deploy the second datacenter</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#scylla-manager">Scylla Manager</a></li>
<li><a class="reference internal" href="#scylladbmonitoring">ScyllaDBMonitoring</a></li>
</ul>
</li>
</ul>

        </div>
    
</div>
                    </div>
                    </div>
                
            </div>
            <div class="sidebar-left  large-order-1">
                
                    
                        <div id="side-nav" class="side-nav custom-scroll-bar" data-closable data-toggler=".show">
    <button class="collapsible-button">
        <i class="icon-docs-menu-collapse"></i>
    </button>
    <div class="side-nav-content custom-scroll-bar">
        <div class="side-nav__title">
            <a href="../../../index.html">ScyllaDB Operator</a>
        </div>
        <div class="side-nav__search">
            <div class="search-box">
                <ci-search></ci-search>
            </div>
        </div>
        <div class="side-nav__versions"><ul class="dropdown menu scylla-dropdown scylla-dropdown--versions" data-dropdown-menu>
    <li class="scylla-dropdown__item">
        <a class="scylla-dropdown__title" href="#">
            
                v1.19
            
            <i class="chevron icon-docs-chevron-right"></i>
        </a>
        <ul class="menu scylla-dropdown__content">
            
                
                    <li>
                        <a href="../../../../master/resources/scyllaclusters/multidc/multidc.html">master</a>
                    </li>
                
            
                
                    <li>
                        <a href="../../../../stable/resources/scyllaclusters/multidc/multidc.html">v1.20</a>
                    </li>
                
            
                
                    <li>
                        <a href="multidc.html">v1.19</a>
                    </li>
                
            
                
                    <li>
                        <a href="../../../../v1.18/resources/scyllaclusters/multidc/multidc.html">v1.18</a>
                    </li>
                
            
            
        </ul>
    </li>
</ul></div>
        <div class="side-nav__content">
            <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../architecture/index.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/overview.html">Overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../architecture/storage/index.html">Storage</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../architecture/storage/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../architecture/storage/local-csi-driver.html">Local CSI Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/tuning.html">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/manager.html">ScyllaDB Manager</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../installation/index.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/kubernetes-prerequisites.html">Kubernetes prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/gitops.html">GitOps (kubectl)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installation/helm.html">Helm</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../management/index.html">Management</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../management/sysctls.html">Configuring kernel parameters (sysctls)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../management/bootstrap-sync.html">Synchronising bootstrap operations in ScyllaDB clusters</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../management/upgrading/index.html">Upgrading</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../management/upgrading/upgrade.html">Upgrading Scylla Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/upgrading/upgrade-scylladb.html">Upgrading ScyllaDB clusters</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../management/monitoring/index.html">Monitoring</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/overview.html">ScyllaDB Monitoring overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/setup.html">Setting up ScyllaDB Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/exposing-grafana.html">Exposing Grafana</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../management/monitoring/external-prometheus-on-openshift.html">Setting up ScyllaDB Monitoring on OpenShift</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Resources</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">ScyllaClusters</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../basics.html">ScyllaClusters</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../clients/index.html">ScyllaDB clients</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../clients/discovery.html">Discovering ScyllaDB Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clients/cql.html">Using CQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../clients/alternator.html">Using Alternator (DynamoDB)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../nodeoperations/index.html">Node operations using Scylla Operator</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../nodeoperations/scylla-upgrade.html">Upgrading version of Scylla</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nodeoperations/replace-node.html">Replacing a Scylla node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nodeoperations/automatic-cleanup.html">Automatic cleanup and replacement in case when k8s node is lost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nodeoperations/maintenance-mode.html">Maintenance mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nodeoperations/restore.html">Restore from backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nodeoperations/volume-expansion.html">Resizing storage in ScyllaCluster</a></li>
</ul>
</li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="index.html">Deploying multi-datacenter ScyllaDB clusters in Kubernetes</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../common/multidc/eks.html">Build multiple Amazon EKS clusters with inter-Kubernetes networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../common/multidc/gke.html">Build multiple GKE clusters with inter-Kubernetes networking</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../common/exposing.html">Exposing ScyllaDB cluster</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../scylladbclusters/index.html">ScyllaDBClusters</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../scylladbclusters/scylladbclusters.html">ScyllaDBClusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common/exposing.html">Exposing ScyllaDB cluster</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../nodeconfigs.html">NodeConfigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../scyllaoperatorconfigs.html">ScyllaOperatorConfigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../remotekubernetesclusters.html">RemoteKubernetesCluster</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../quickstarts/index.html">Quickstarts</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../quickstarts/gke.html">Deploying ScyllaDB on GKE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../quickstarts/eks.html">Deploying ScyllaDB on EKS</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../support/index.html">Support</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../support/overview.html">Support overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../support/known-issues.html">Known issues</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../support/troubleshooting/index.html">Troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../support/troubleshooting/installation.html">Troubleshooting installation issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../support/must-gather.html">Gathering data with must-gather</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../support/releases.html">Releases</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../reference/index.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/api/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com.html">scylla.scylladb.com</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label for="toctree-checkbox-18"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/nodeconfigs.html">NodeConfig (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/remotekubernetesclusters.html">RemoteKubernetesCluster (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/remoteowners.html">RemoteOwner (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scyllaclusters.html">ScyllaCluster (scylla.scylladb.com/v1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scylladbclusters.html">ScyllaDBCluster (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scylladbdatacenternodesstatusreports.html">ScyllaDBDatacenterNodesStatusReport (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scylladbdatacenters.html">ScyllaDBDatacenter (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scylladbmanagerclusterregistrations.html">ScyllaDBManagerClusterRegistration (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scylladbmanagertasks.html">ScyllaDBManagerTask (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scylladbmonitorings.html">ScyllaDBMonitoring (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../reference/api/groups/scylla.scylladb.com/scyllaoperatorconfigs.html">ScyllaOperatorConfig (scylla.scylladb.com/v1alpha1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/feature-gates.html">Feature Gates</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
</div>
                    
                
            </div>

        </section>

        <footer class="footer">
    <div class="footer-group">
        <div class="footer-top">
            <a class="footer-logo" href="https://www.scylladb.com"></a>
            <div class="footer-links">
                <a class="footer-links__link" href="https://docs.scylladb.com/" target="_blank">Docs</a>
                <a class="footer-links__link" href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html" target="_blank">Tutorials</a>
                <a class="footer-links__link" href="https://university.scylladb.com/" target="_blank">University</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/contact-us/"
                   target="_blank">Contact Us</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/" target="_blank">About Us</a>
            </div>
            <div class="footer-actions">
                <a class="footer-actions__link" href="http://slack.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="User Slack channel" data-position="bottom">
                        <i class="icon-slack"></i>
                    </span>
                </a>
                <a class="footer-actions__link" href="https://forum.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="Community forum" data-position="bottom">
                        <i class="icon-docs-community"></i>
                    </span>
                </a>
            </div>
        </div>

        
            <div class="footer-copyright">
                
                    
                        &#169; 2026, ScyllaDB. All rights reserved.
                    
                    | <a class="footer-copyright__link" href="https://www.scylladb.com/tos/" target="_blank">Terms of Service</a>
                    | <a class="footer-copyright__link" href="https://www.scylladb.com/privacy/" target="_blank">Privacy Policy</a>
                    | ScyllaDB, and ScyllaDB Cloud, are registered trademarks of ScyllaDB, Inc.
                
            </div>
        


        <div class="footer-bottom">
            
                <div class="footer-bottom__last-updated">
                    
                        Last updated on 02 March 2026.
                    
                </div>
            
            <div class="footer-bottom__version">
                Powered by
                <a class="footer-bottom__link" href="http://sphinx-doc.org/">Sphinx 8.2.3</a> &amp;
                <a class="footer-bottom__link" href="https://sphinx-theme.scylladb.com/">ScyllaDB Theme 1.8.10</a>
            </div>
        </div>
    </div>
    
        <biel-button class="footer-ask-ai" project="ddfdo8m94k"
                     header-title="ScyllaDB chatbot (beta)"
                     button-position="bottom-right"
                     modal-position="bottom-right"
                     button-style="dark">
            Ask AI
        </biel-button>
    
</footer>

        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP" height="0" width="0"
                    style="display: none; visibility: hidden"></iframe>
        </noscript>
    </body>

</html>