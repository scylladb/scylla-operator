

<!DOCTYPE html>
<html class="no-js" lang="en" style="visibility: hidden;">
    
    

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width initial-scale=1" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>
             Exposing ScyllaDB cluster | ScyllaDB Docs 
        </title>
        <meta name="description" content="ScyllaDB is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server." />
        <link rel="icon" href="../../_static/img/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../../_static/img/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" href="../../_static/img/favicon-228x228.png" sizes="192x192" />
        <link rel="apple-touch-icon" href="../../_static/img/favicon-228x228.png" />
        <meta name="msapplication-TileImage" href="../../_static/img/favicon-228x228.png" />

        
            
            
        

        
            
            <link rel="canonical" href="https://operator.docs.scylladb.com/stable/resources/common/exposing.html"/>
        

        <link rel="author" href="mailto:info@scylladb.com" />

        
            
        <!-- increase expertrec loading priority-->
        <link rel="dns-prefetch" href="https://cse.expertrec.com">

        <!-- increase font loading priority -->
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- async CSS -->
        <link rel="stylesheet" media="print" onload="this.onload=null;this.removeAttribute('media');"
              href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />

        <!-- no-JS fallback -->
        <noscript>
            <link rel="stylesheet"
                  href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;1,400&display=swap" />
        </noscript>

        
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.css">
            <script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@latest/dist/biel-search/biel-search.esm.js"></script>
        

        
            
                <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../_static/css/main.css?v=0ebb4bd5" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../_static/sphinx_collapse.css?v=226d88b4" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
            
        
            
                <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=714c36fc" />
            
        
    
        
        
            
        <script type="text/javascript" src="../../_static/js/runtime.bundle.js"></script>
        <script type="text/javascript" src="../../_static/js/main.bundle.js"></script>
        
            
                <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
            
        
            
                <script src="../../_static/doctools.js?v=9bcbadda"></script>
            
        
            
                <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
            
        
            
                <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
            
        
            
                <script src="../../_static/copybutton.js?v=f281be69"></script>
            
        
            
                <script src="../../_static/tabs.js?v=3030b3cb"></script>
            
        
    
            
                <!-- Local meta tags -->
            
            
                <!-- Google Tag Manager docs -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-54NWVS4");
</script>
<!-- End Google Tag Manager -->

<!-- Google Tag Manager global -->
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
            "gtm.start": new Date().getTime(),
            event: "gtm.js"
        });
        var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s),
            dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, "script", "dataLayer", "GTM-T8P2JP");
</script>
<!-- End Google Tag Manager -->

<!-- Expertrec -->
<script>
    var id = "e2077224-9ccf-11e9-a0c9-0242ac130002";
    var ci_search = document.createElement("script");
    ci_search.type = "text/javascript";
    ci_search.async = true;
    ci_search.src = "https://cse.expertrec.com/api/js/ci_common.js?id=" + id;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(ci_search, s);
</script>
<!-- End Expertrec -->
            
        
    </head>

    <body class="brand-product">
        <section class="promo-banner  promo-banner--hide" style="display: none;">
    <div class="promo-banner-wrapper">
        <div class="promo-banner__content">
            
            <div class="promo-banner__title">ScyllaDB University Live | Free Virtual Training Event</div>
            <a class="promo-banner__button button button--reverse" href="#"
               target="_blank" rel="noopener noreferrer">Learn more</a>
        </div>
        <button class="promo-banner__close">
            <i class="icon-cancel"></i>
        </button>
    </div>
</section>
        <header class="header">
    <div class="header-logo">
        <a class="header-logo__img" href="https://scylladb.com/">
            <img src="../../_static/img/scylladb-logo-horizontal.svg" alt="ScyllaDB Documentation Logo" />
        </a>
        <span class="header-logo__bar"></span>
        <a class="header-logo__text" href="https://docs.scylladb.com/">
            Documentation
        </a>
    </div>
    <div class="header-navigation">
        <ul class="dropdown menu scylla-dropdown scylla-dropdown--header" data-dropdown-menu>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Deployments <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">
                            <i class="icon-docs-cloud"></i>Cloud</a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/manual/">
                            <i class="icon-server"></i>Server</a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Tools <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://manager.docs.scylladb.com/">
                            <i class="icon-docs-manager"></i>ScyllaDB Manager</a>
                    </li>
                    <li>
                        <a href="https://monitoring.docs.scylladb.com/">
                            <i class="icon-docs-monitoring"></i>ScyllaDB
                            Monitoring Stack</a>
                    </li>
                    <li>
                        <a href="https://operator.docs.scylladb.com/">
                            <i class="icon-docs-operator"></i>ScyllaDB Operator
                        </a>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Drivers <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://docs.scylladb.com/stable/drivers/cql-drivers">
                            <i class="icon-docs-nsql-guides"></i>CQL Drivers
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/drivers/dynamo-drivers">
                            <i class="icon-docs-alternator"></i>DynamoDB Drivers
                        </a>

                        <li>
                            <a href="https://docs.scylladb.com/stable/versioning/driver-support">
                                <i class="icon-docs-blog"></i>Supported Driver Versions
                            </a>
                        </li>
                    </li>
                </ul>
            </li>
            <li class="scylla-dropdown__item">
                <a href="#" class="scylla-dropdown__title">Resources
                    <i class="chevron icon-arrow-dropdown"></i></a>
                <ul class="menu scylla-dropdown__content">
                    <li>
                        <a href="https://university.scylladb.com">
                            <i class="icon-university"></i>
                            ScyllaDB University
                        </a>
                    </li>
                    <li>
                        <a href="https://forum.scylladb.com">
                            <i class="icon-docs-community"></i>
                            Community Forum
                        </a>
                    </li>
                    <li>
                        <a href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html">
                            <i class="icon-docs-training"></i>
                            Tutorials
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="header-button">
            <a href="https://docs.scylladb.com/manual/stable/getting-started/installation-common/scylla-web-installer.html" class="button"><i class="icon-download me-2"></i> Install</a>
        </div>
    </div>
    <div class="header-search-box">
        <i class="dark-theme-toggler icon-theme"></i>
        <div class="search-box">
            <ci-search></ci-search>
        </div>
        
            <biel-button class="header-ask-ai" project="ddfdo8m94k"
                         header-title="ScyllaDB chatbot (beta)"
                         button-position="default"
                         modal-position="bottom-right"
                         button-style="dark">
                Ask AI
            </biel-button>
        
    </div>
    <div class="side-nav-toggle">
    <i class="dark-theme-toggler icon-theme"></i>
    <div class="side-nav-toggle__button" data-toggle="side-nav">
        <i class="icon-menu"></i>
    </div>
</div>
</header>
        <div class="title"></div>
        <section
            class="layout  layout--sidebar layout--has-secondary-sidebar ">
            <div class="content large-order-2">
                
                    <div class="pre-content">
                        <div class="breadcrumbs">
    <span class="bread__item">
        <a href="https://docs.scylladb.com"
           class="bread__highlight">
            <i class="icon-home"></i> ScyllaDB Docs
        </a>
    </span>
    <span class="bread__item">
        <a href="../../index.html"
           class="bread__highlight">
            ScyllaDB Operator
        </a>
    </span>
    
        <span class="bread__item">
            <a href="../index.html" class="bread__highlight">
                Resources
            </a>
        </span>
    
        <span class="bread__item">
            <a href="../scyllaclusters/index.html" class="bread__highlight">
                ScyllaClusters
            </a>
        </span>
    
    <span class="bread__item bread__item--last">Exposing ScyllaDB cluster</span>
</div>
                    </div>
                
                
                    <div class="sidebar-right-layout">
                        <div class="body-container">
                

                <div class="content-body">
                    
                        
                    

                    <section id="exposing-scylladb-cluster">
<h1>Exposing ScyllaDB cluster<a class="headerlink" href="#exposing-scylladb-cluster" title="Link to this heading">¶</a></h1>
<p>This document explains how ScyllaDB Operator exposes ScyllaDB clusters in different network setups.
A ScyllaDB cluster can be exposed in various network configurations, independently to clients and nodes.</p>
<section id="expose-options">
<h2>Expose Options<a class="headerlink" href="#expose-options" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">exposeOptions</span></code> are immutable, they cannot be changed after a ScyllaDB cluster is created.</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">exposeOptions</span></code> specifies configuration options for exposing ScyllaCluster’s.
A ScyllaCluster created without any <code class="docutils literal notranslate"><span class="pre">exposeOptions</span></code> is equivalent to the following:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-0-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-0-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-0-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-0-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
</pre></div>
</div>
</div></div>
<p>The following sections cover what every field controls and what the configuration options are.</p>
<section id="node-service-template">
<h3>Node Service Template<a class="headerlink" href="#node-service-template" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">nodeService</span></code> serves as a template for a node-dedicated Service managed by the ScyllaDB Operator for each node within a ScyllaDB cluster.
The properties of the Services depend on the selected type.
Additionally, there’s an option to define custom annotations, incorporated into each node’s Service,
which might be useful for further tweaking the Service properties or related objects.</p>
<section id="headless-type">
<h4>Headless Type<a class="headerlink" href="#headless-type" title="Link to this heading">¶</a></h4>
<p>For <code class="docutils literal notranslate"><span class="pre">Headless</span></code> type, ScyllaDB Operator creates a Headless Service with a selector pointing to the particular node in the ScyllaDB cluster.
Such Service doesn’t provide any additional IP addresses, and the internal DNS record resolves to the PodIP of a node.</p>
<p>This type of Service is useful when ScyllaDB cluster nodes broadcast PodIPs to clients and other nodes.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-1-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-1-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-1-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-1-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-1-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-1-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-1-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-1-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
</pre></div>
</div>
</div></div>
</section>
<section id="clusterip-type">
<h4>ClusterIP Type<a class="headerlink" href="#clusterip-type" title="Link to this heading">¶</a></h4>
<p>For <code class="docutils literal notranslate"><span class="pre">ClusterIP</span></code> type, ScyllaDB Operator creates a ClusterIP Service backed by a specific node in the ScyllaDB cluster.</p>
<p>These IP addresses are only routable within the same Kubernetes cluster, so it’s a good fit, if you don’t want to expose them to other networks.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-2-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-2-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-2-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-2-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-2-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-2-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-2-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-2-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>ScyllaDBCluster is designated for usage across multiple Kubernetes clusters. As ClusterIP Services are conventionally only routable within a single Kubernetes cluster,
make sure your CNI allows for external ClusterIP connectivity. Otherwise, switch to a different type of exposure.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
</pre></div>
</div>
</div></div>
</section>
<section id="loadbalancer-type">
<h4>LoadBalancer Type<a class="headerlink" href="#loadbalancer-type" title="Link to this heading">¶</a></h4>
<p>For the <code class="docutils literal notranslate"><span class="pre">LoadBalancer</span></code> type, ScyllaDB Operator generates a LoadBalancer Service that directs traffic to a specific node within the ScyllaCluster.
On platforms with support for external load balancers, this Service provisions one.
The accessibility of this load balancer’s address depends on the platform and any customizations made; in some cases it may be reachable from the internal network or public Internet.</p>
<p>Customizations are usually managed via Service annotations, key-value pairs provided in <code class="docutils literal notranslate"><span class="pre">annotations</span></code> field are merged into each Service object.
LoadBalancer Services should be configured to pass through entire traffic.<br />
For example, to expose LoadBalancer only to internal network use the following annotations:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-3-U2N5bGxhQ2x1c3RlciBFS1M=" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-3-U2N5bGxhQ2x1c3RlciBFS1M=" name="U2N5bGxhQ2x1c3RlciBFS1M=" role="tab" tabindex="0">ScyllaCluster EKS</button><button aria-controls="panel-3-U2N5bGxhQ2x1c3RlciBHS0U=" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-U2N5bGxhQ2x1c3RlciBHS0U=" name="U2N5bGxhQ2x1c3RlciBHS0U=" role="tab" tabindex="-1">ScyllaCluster GKE</button><button aria-controls="panel-3-U2N5bGxhREJDbHVzdGVyIEVLUw==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-U2N5bGxhREJDbHVzdGVyIEVLUw==" name="U2N5bGxhREJDbHVzdGVyIEVLUw==" role="tab" tabindex="-1">ScyllaDBCluster EKS</button><button aria-controls="panel-3-U2N5bGxhREJDbHVzdGVyIEdLRQ==" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-3-U2N5bGxhREJDbHVzdGVyIEdLRQ==" name="U2N5bGxhREJDbHVzdGVyIEdLRQ==" role="tab" tabindex="-1">ScyllaDBCluster GKE</button></div><div aria-labelledby="tab-3-U2N5bGxhQ2x1c3RlciBFS1M=" class="sphinx-tabs-panel group-tab" id="panel-3-U2N5bGxhQ2x1c3RlciBFS1M=" name="U2N5bGxhQ2x1c3RlciBFS1M=" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">     </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">     </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">       </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internal</span>
<span class="w">       </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-backend-protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-U2N5bGxhQ2x1c3RlciBHS0U=" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-U2N5bGxhQ2x1c3RlciBHS0U=" name="U2N5bGxhQ2x1c3RlciBHS0U=" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">     </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">     </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">       </span><span class="nt">networking.gke.io/load-balancer-type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Internal</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-U2N5bGxhREJDbHVzdGVyIEVLUw==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-U2N5bGxhREJDbHVzdGVyIEVLUw==" name="U2N5bGxhREJDbHVzdGVyIEVLUw==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">     </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">     </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">       </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-scheme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">internal</span>
<span class="w">       </span><span class="nt">service.beta.kubernetes.io/aws-load-balancer-backend-protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-3-U2N5bGxhREJDbHVzdGVyIEdLRQ==" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-3-U2N5bGxhREJDbHVzdGVyIEdLRQ==" name="U2N5bGxhREJDbHVzdGVyIEdLRQ==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">     </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">     </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">       </span><span class="nt">networking.gke.io/load-balancer-type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Internal</span>
</pre></div>
</div>
</div></div>
<p>Check platform-specific documentation regarding LoadBalancer configuration to learn more about available options.</p>
<p>LoadBalancer Service is a superset of ClusterIP Service, implying that each LoadBalancer Service also contains an allocated ClusterIP.
They can be configured using the following fields, which propagate to every node Service:</p>
<ul class="simple">
<li><p>externalTrafficPolicy</p></li>
<li><p>internalTrafficPolicy</p></li>
<li><p>loadBalancerClass</p></li>
<li><p>allocateLoadBalancerNodePorts</p></li>
</ul>
<p>Check <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/service">Kubernetes Service documentation</a> to learn more about these options.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-4-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-4-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-4-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-4-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-4-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-4-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">      </span><span class="nt">loadBalancerClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-custom-load-balancer-class</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-4-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-4-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">      </span><span class="nt">loadBalancerClass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-custom-load-balancer-class</span>
</pre></div>
</div>
</div></div>
</section>
</section>
<section id="broadcast-options">
<h3>Broadcast Options<a class="headerlink" href="#broadcast-options" title="Link to this heading">¶</a></h3>
<p>Broadcast options control what is the source of the address being broadcasted to clients and nodes.
It’s configured independently for clients and nodes because you may want to expose these two types of traffic on different networks.
Using different networks can help manage costs, reliability, latency, security policies or other metrics you care about.</p>
<section id="podip-type">
<h4>PodIP Type<a class="headerlink" href="#podip-type" title="Link to this heading">¶</a></h4>
<p>Address broadcasted to clients/nodes is taken from Pod.
By default, the address is taken from Pod’s <code class="docutils literal notranslate"><span class="pre">status.PodIP</span></code> field.
Because a Pod can use multiple address, you may want to provide source options by specifying <code class="docutils literal notranslate"><span class="pre">podIP.source</span></code>.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-5-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-5-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-5-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-5-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-5-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-5-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">        </span><span class="nt">podIP</span><span class="p">:</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Status</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-5-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-5-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">        </span><span class="nt">podIP</span><span class="p">:</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Status</span>
</pre></div>
</div>
</div></div>
</section>
<section id="serviceclusterip-type">
<h4>ServiceClusterIP Type<a class="headerlink" href="#serviceclusterip-type" title="Link to this heading">¶</a></h4>
<p>Address broadcasted to clients or nodes is taken from <code class="docutils literal notranslate"><span class="pre">spec.ClusterIP</span></code> field of a node’s dedicated Service.</p>
<p>In order to configure it, the <code class="docutils literal notranslate"><span class="pre">nodeService</span></code> template must specify a Service having a ClusterIP assigned.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-6-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-6-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-6-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-6-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-6-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-6-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-6-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-6-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>ScyllaDBCluster is designated for usage across multiple Kubernetes clusters. As ClusterIP Services are conventionally only routable within a single Kubernetes cluster,
make sure your CNI allows for external ClusterIP connectivity. Otherwise, switch to a different type of exposure.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div></div>
</section>
<section id="serviceloadbalanceringress-type">
<h4>ServiceLoadBalancerIngress Type<a class="headerlink" href="#serviceloadbalanceringress-type" title="Link to this heading">¶</a></h4>
<p>Address broadcasted to clients/nodes is taken from the node dedicated Service, from <code class="docutils literal notranslate"><span class="pre">.status.loadBalancer.ingress[0].ip</span></code> or <code class="docutils literal notranslate"><span class="pre">.status.loadBalancer.ingress[0].hostname</span></code> field.</p>
<p>In order to configure it, the <code class="docutils literal notranslate"><span class="pre">nodeService</span></code> template must specify the LoadBalancer Service.</p>
<p>Example:</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-7-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-7-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-7-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-7-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-7-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-7-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceLoadBalancerIngress</span>
<span class="w">        </span><span class="nt">podIP</span><span class="p">:</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Status</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-7-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-7-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceLoadBalancerIngress</span>
<span class="w">        </span><span class="nt">podIP</span><span class="p">:</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Status</span>
</pre></div>
</div>
</div></div>
</section>
</section>
</section>
<section id="deployment-examples">
<h2>Deployment Examples<a class="headerlink" href="#deployment-examples" title="Link to this heading">¶</a></h2>
<p>The following section contains several specific examples of various network scenarios and explains how nodes and clients communicate with one another.</p>
<section id="in-cluster-only">
<h3>In-cluster only<a class="headerlink" href="#in-cluster-only" title="Link to this heading">¶</a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-8-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-8-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-8-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-8-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-8-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-8-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-8-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-8-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>ScyllaDBCluster is designated for usage across multiple Kubernetes clusters. As ClusterIP Services are conventionally only routable within a single Kubernetes cluster,
make sure your CNI allows for external ClusterIP connectivity. Otherwise, switch to a different type of exposure.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div></div>
<p>Both client and nodes are deployed within the same Kubernetes cluster.
They talk through ClusterIP addresses taken from the Service.
Because ClusterIP Services are only routable within the same Kubernetes cluster, this cluster won’t be reachable from outside.</p>
<p><img alt="ClusterIPs" src="../../_images/clusterip.svg" /></p>
</section>
<section id="in-cluster-node-to-node-vpc-clients-to-nodes">
<h3>In-cluster node-to-node, VPC clients-to-nodes<a class="headerlink" href="#in-cluster-node-to-node-vpc-clients-to-nodes" title="Link to this heading">¶</a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-9-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-9-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-9-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-9-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-9-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-9-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-9-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-9-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>ScyllaDBCluster is designated for usage across multiple Kubernetes clusters. As ClusterIP Services are conventionally only routable within a single Kubernetes cluster,
make sure your CNI allows for external ClusterIP connectivity. Otherwise, switch to a different type of exposure.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceClusterIP</span>
</pre></div>
</div>
</div></div>
<p>In this scenario, we assume that the Pod IP subnet is routable within a VPC.
Clients within the VPC network can communicate directly with ScyllaCluster nodes using PodIPs.
Nodes communicate with each other exclusively within the same Kubernetes cluster.</p>
<p><img alt="PodIPs" src="../../_images/podips.svg" /></p>
</section>
<section id="multi-vpc">
<h3>Multi VPC<a class="headerlink" href="#multi-vpc" title="Link to this heading">¶</a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-10-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-10-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-10-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-10-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-10-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-10-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><p>Both ScyllaDB datacenters use the same <code class="docutils literal notranslate"><span class="pre">exposeOptions</span></code>, nodes broadcast their Pod IP addresses, enabling them to establish connections with one another.
Check <a class="reference internal" href="../scyllaclusters/multidc/multidc.html"><span class="std std-doc">dedicated documentation page</span></a> to know how to connect two ScyllaClusters into one logical cluster.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
</pre></div>
</div>
</div><div aria-labelledby="tab-10-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-10-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Headless</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">PodIP</span>
</pre></div>
</div>
</div></div>
<p>In this scenario, we set up two separate Kubernetes clusters in distinct VPCs.
These VPCs are interconnected to facilitate inter-VPC connectivity.
We operate on the assumption that the Pod IP subnet is routable within each VPC.</p>
<p>Clients, whether deployed within the same Kubernetes cluster or within a VPC, have the capability to reach nodes using their Pod IPs.
Since there is no requirement for any address other than the Pod IP, the <code class="docutils literal notranslate"><span class="pre">Headless</span></code> service type is sufficient.</p>
<p><img alt="MultiVPC" src="../../_images/multivpc.svg" /></p>
</section>
<section id="internet">
<h3>Internet<a class="headerlink" href="#internet" title="Link to this heading">¶</a></h3>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-11-U2N5bGxhQ2x1c3Rlcg==" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-11-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tab" tabindex="0">ScyllaCluster</button><button aria-controls="panel-11-U2N5bGxhREJDbHVzdGVy" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-11-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tab" tabindex="-1">ScyllaDBCluster</button></div><div aria-labelledby="tab-11-U2N5bGxhQ2x1c3Rlcg==" class="sphinx-tabs-panel group-tab" id="panel-11-U2N5bGxhQ2x1c3Rlcg==" name="U2N5bGxhQ2x1c3Rlcg==" role="tabpanel" tabindex="0"><div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceLoadBalancerIngress</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span><span class="w"> </span>
</pre></div>
</div>
</div><div aria-labelledby="tab-11-U2N5bGxhREJDbHVzdGVy" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-11-U2N5bGxhREJDbHVzdGVy" name="U2N5bGxhREJDbHVzdGVy" role="tabpanel" tabindex="0"><div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>ScyllaDBCluster is designated for usage across multiple Kubernetes clusters. As ClusterIP Services are conventionally only routable within a single Kubernetes cluster,
make sure your CNI allows for external ClusterIP connectivity. Otherwise, switch to a different type of exposure.</p>
</div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scylla.scylladb.com/v1alpha1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ScyllaDBCluster</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">exposeOptions</span><span class="p">:</span>
<span class="w">    </span><span class="nt">nodeService</span><span class="p">:</span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">    </span><span class="nt">broadcastOptions</span><span class="p">:</span>
<span class="w">      </span><span class="nt">clients</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ServiceLoadBalancerIngress</span>
<span class="w">      </span><span class="nt">nodes</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span><span class="w"> </span>
</pre></div>
</div>
</div></div>
<p>We assume that a Kubernetes cluster has been deployed in a cloud provider environment that supports external load balancers.
By specifying the LoadBalancer type in the nodeService template, the ScyllaDB Operator generates a dedicated LB Service for each node.
The cloud provider then establishes an external load balancer with an internet-accessible address.
ScyllaDB nodes broadcast this external address to clients, enabling drivers to connect and discover other nodes.
Since all ScyllaDB nodes reside within the same Kubernetes cluster, there is no need to route traffic through the internet.
Consequently, the nodes are configured to communicate via ClusterIP, which is also accessible within LoadBalancer Services.</p>
<p><img alt="Internet" src="../../_images/loadbalancer.svg" /></p>
<hr class="docutils" />
<p>Other more complex scenarios can be built upon these simple ones.</p>
</section>
</section>
</section>

                </div>
                
                    <div class="post-content">
                        
    <div class="feedback-container">
        <p class="feedback-container__title">Was this page helpful?</p>
        <span data-tooltip tabindex="1" title="Yes" data-position="top">
            <button class="feedback-container__button" id="feedback-positive">
                <i class="feedback-container__icon icon-docs-thumbs-up"></i>
            </button>
        </span>
        <span data-tooltip tabindex="1" title="No" data-position="top">
            <button class="feedback-container__button" id="feedback-negative">
                <i class="feedback-container__icon icon-docs-thumbs-down"></i>
            </button>
        </span>
        <div class="feedback-container__message" id="feedback-message"></div>
    </div>

    <script>
        function resetFeedbackButtonActive() {
            const feedbackButtons = document.getElementsByClassName('feedback-container__button');
            for (let i = 0; i < feedbackButtons.length; i++) {
                feedbackButtons[i].classList.remove('active');
            }
        }

        function showMessage(liked) {
            const feedbackMessage = document.getElementById('feedback-message');
            const themeGithubRepository = true;
            let message = 'Great! Thanks for your feedback.';
            if (themeGithubRepository && !liked) {
                message = "Thanks for your feedback! Please don't hesitate to <a href='https://github.com/scylladb/scylla-operator/issues/new?title=docs:%20Issue on page Exposing ScyllaDB cluster&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://operator.docs.scylladb.com/v1.20/resources/common/exposing%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation'>create an issue</a> if you have any suggestions on how we can improve.";
            }
            feedbackMessage.innerHTML = message;
        }

        function sendGaEvent(liked) {
            const event_label = liked ? "positive" : "negative";
            const event = "feedback_" + event_label;
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
                'event': event,
            });
        }

        const positiveFeebackButton = document.getElementById('feedback-positive');
        const negativeFeedbackButton = document.getElementById('feedback-negative');

        positiveFeebackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(true);
            showMessage(true);
            positiveFeebackButton.classList.add('active');
        });

        negativeFeedbackButton.addEventListener('click', function() {
            resetFeedbackButtonActive();
            sendGaEvent(false);
            showMessage(false);
            negativeFeedbackButton.classList.add('active');
        });
    </script>

                        <div class="content-navigation">
    <div class="navigation navigation--prev">
        
            <a class="navigation__link" href="../scyllaclusters/multidc/multidc.html">
                <button class="navigation__button">
                    <i class="icon-chevron-left"></i>
                </button>
                <div class="navigation__title">
                    <span class="colored">PREVIOUS</span> <br />Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters
                </div>
            </a>
        
    </div>
    <div class="navigation navigation--next">
        
            <a class="navigation__link" href="../scylladbclusters/index.html">
                <div class="navigation__title">
                    <span class="colored">NEXT</span> <br />ScyllaDBClusters
                </div>
                <button class="navigation__button">
                    <i class="icon-chevron-right"></i>
                </button>
            </a>
        
    </div>
</div>
                        <!-- Post content text -->
                    </div>
                

                
                    </div>
                    <div class="sidebar-right large-order-3">
                        <div class="secondary-side-nav custom-scroll-bar">
    
    <ul class="contribute">
        <li class="contribute__item">
            <a class="button button-sm" href="https://github.com/scylladb/scylla-operator/issues/new?title=docs:%20Issue on page Exposing ScyllaDB cluster&&body=I%20would%20like%20to%20report%20an%20issue%20on%20page%20https://operator.docs.scylladb.com/v1.20/resources/common/exposing%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix&labels=documentation"
               target="_blank">
                <i class="icon-github" aria-hidden="true"></i>Create an issue
            </a>
        </li>
        
            <li class="contribute__item">
                <a class="button button-sm" href="https://github.com/scylladb/scylla-operator/edit/master/docs/source/resources/common/exposing.md"
                   target="_blank">
                    <i class="icon-edit" aria-hidden="true"></i>Edit this page
                </a>
            </li>
        
    </ul>

    
        <div class="secondary-side-nav__content">
            <p class="topic-title">On this page</p>
            <ul>
<li><a class="reference internal" href="#">Exposing ScyllaDB cluster</a><ul>
<li><a class="reference internal" href="#expose-options">Expose Options</a><ul>
<li><a class="reference internal" href="#node-service-template">Node Service Template</a><ul>
<li><a class="reference internal" href="#headless-type">Headless Type</a></li>
<li><a class="reference internal" href="#clusterip-type">ClusterIP Type</a></li>
<li><a class="reference internal" href="#loadbalancer-type">LoadBalancer Type</a></li>
</ul>
</li>
<li><a class="reference internal" href="#broadcast-options">Broadcast Options</a><ul>
<li><a class="reference internal" href="#podip-type">PodIP Type</a></li>
<li><a class="reference internal" href="#serviceclusterip-type">ServiceClusterIP Type</a></li>
<li><a class="reference internal" href="#serviceloadbalanceringress-type">ServiceLoadBalancerIngress Type</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#deployment-examples">Deployment Examples</a><ul>
<li><a class="reference internal" href="#in-cluster-only">In-cluster only</a></li>
<li><a class="reference internal" href="#in-cluster-node-to-node-vpc-clients-to-nodes">In-cluster node-to-node, VPC clients-to-nodes</a></li>
<li><a class="reference internal" href="#multi-vpc">Multi VPC</a></li>
<li><a class="reference internal" href="#internet">Internet</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
    
</div>
                    </div>
                    </div>
                
            </div>
            <div class="sidebar-left  large-order-1">
                
                    
                        <div id="side-nav" class="side-nav custom-scroll-bar" data-closable data-toggler=".show">
    <button class="collapsible-button">
        <i class="icon-docs-menu-collapse"></i>
    </button>
    <div class="side-nav-content custom-scroll-bar">
        <div class="side-nav__title">
            <a href="../../index.html">ScyllaDB Operator</a>
        </div>
        <div class="side-nav__search">
            <div class="search-box">
                <ci-search></ci-search>
            </div>
        </div>
        <div class="side-nav__versions"><ul class="dropdown menu scylla-dropdown scylla-dropdown--versions" data-dropdown-menu>
    <li class="scylla-dropdown__item">
        <a class="scylla-dropdown__title" href="#">
            
                v1.20
            
            <i class="chevron icon-docs-chevron-right"></i>
        </a>
        <ul class="menu scylla-dropdown__content">
            
                
                    <li>
                        <a href="../../../master/resources/common/exposing.html">master</a>
                    </li>
                
            
                
                    <li>
                        <a href="exposing.html">v1.20</a>
                    </li>
                
            
                
                    <li>
                        <a href="../../../v1.19/resources/common/exposing.html">v1.19</a>
                    </li>
                
            
                
                    <li>
                        <a href="../../../v1.18/resources/common/exposing.html">v1.18</a>
                    </li>
                
            
            
        </ul>
    </li>
</ul></div>
        <div class="side-nav__content">
            <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../architecture/index.html">Architecture</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label for="toctree-checkbox-1"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/overview.html">Overview</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../architecture/storage/index.html">Storage</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label for="toctree-checkbox-2"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architecture/storage/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architecture/storage/local-csi-driver.html">Local CSI Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/tuning.html">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../architecture/manager.html">ScyllaDB Manager</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../installation/index.html">Installation</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label for="toctree-checkbox-3"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/kubernetes-prerequisites.html">Kubernetes prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/gitops.html">GitOps (kubectl)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/helm.html">Helm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation/openshift.html">OpenShift</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../management/index.html">Management</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label for="toctree-checkbox-4"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../management/sysctls.html">Configuring kernel parameters (sysctls)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../management/bootstrap-sync.html">Synchronising bootstrap operations in ScyllaDB clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../management/data-cleanup.html">Automatic data cleanup</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../management/upgrading/index.html">Upgrading</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label for="toctree-checkbox-5"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../management/upgrading/upgrade.html">Upgrading ScyllaDB Operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../management/upgrading/upgrade-scylladb.html">Upgrading ScyllaDB clusters</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../management/monitoring/index.html">Monitoring</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label for="toctree-checkbox-6"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../management/monitoring/overview.html">ScyllaDB Monitoring overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../management/monitoring/setup.html">Setting up ScyllaDB Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../management/monitoring/exposing-grafana.html">Exposing Grafana</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../management/monitoring/external-prometheus-on-openshift.html">Setting up ScyllaDB Monitoring on OpenShift</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../management/networking/index.html">Networking</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label for="toctree-checkbox-7"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../management/networking/ipv6/index.html">IPv6 networking</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label for="toctree-checkbox-8"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/tutorials/ipv6-getting-started.html">Getting started with IPv6 networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/how-to/ipv6-configure.html">Configure dual-stack networking with IPv4</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/how-to/ipv6-configure-ipv6-first.html">Configure dual-stack networking with IPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/how-to/ipv6-configure-ipv6-only.html">Configure IPv6-only networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/how-to/ipv6-migrate.html">Migrate clusters to IPv6</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/how-to/ipv6-troubleshoot.html">Troubleshoot IPv6 networking issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/reference/ipv6-configuration.html">IPv6 configuration reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../management/networking/ipv6/concepts/ipv6-networking.html">IPv6 networking concepts</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Resources</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label for="toctree-checkbox-9"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../scyllaclusters/index.html">ScyllaClusters</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label for="toctree-checkbox-10"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../scyllaclusters/basics.html">ScyllaClusters</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../scyllaclusters/clients/index.html">ScyllaDB clients</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label for="toctree-checkbox-11"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/clients/discovery.html">Discovering ScyllaDB Nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/clients/cql.html">Using CQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/clients/alternator.html">Using Alternator (DynamoDB)</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../scyllaclusters/nodeoperations/index.html">Node operations using Scylla Operator</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label for="toctree-checkbox-12"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/nodeoperations/scylla-upgrade.html">Upgrading version of ScyllaDB</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/nodeoperations/replace-node.html">Replacing a ScyllaDB node</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/nodeoperations/automatic-cleanup.html">Automatic cleanup and replacement in case when k8s node is lost</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/nodeoperations/maintenance-mode.html">Maintenance mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/nodeoperations/restore.html">Restore from backup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/nodeoperations/volume-expansion.html">Resizing storage in ScyllaCluster</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../scyllaclusters/multidc/index.html">Deploying multi-datacenter ScyllaDB clusters in Kubernetes</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label for="toctree-checkbox-13"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="multidc/eks.html">Build multiple Amazon EKS clusters with inter-Kubernetes networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="multidc/gke.html">Build multiple GKE clusters with inter-Kubernetes networking</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scyllaclusters/multidc/multidc.html">Deploy a multi-datacenter ScyllaDB cluster in multiple interconnected Kubernetes clusters</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Exposing ScyllaDB cluster</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../scylladbclusters/index.html">ScyllaDBClusters</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label for="toctree-checkbox-14"><i class="icon-chevron-right"></i></label><div class="break"></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../scylladbclusters/scylladbclusters.html">ScyllaDBClusters</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Exposing ScyllaDB cluster</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nodeconfigs.html">NodeConfigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scyllaoperatorconfigs.html">ScyllaOperatorConfigs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remotekubernetesclusters.html">RemoteKubernetesCluster</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../quickstarts/index.html">Quickstarts</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label for="toctree-checkbox-15"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quickstarts/gke.html">Deploying ScyllaDB on GKE</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quickstarts/eks.html">Deploying ScyllaDB on EKS</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../support/index.html">Support</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label for="toctree-checkbox-16"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../support/overview.html">Support overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/known-issues.html">Known issues</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../support/troubleshooting/index.html">Troubleshooting</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label for="toctree-checkbox-17"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../support/troubleshooting/installation.html">Troubleshooting installation issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../support/must-gather.html">Gathering data with must-gather</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/releases.html">Releases</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../reference/index.html">Reference</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label for="toctree-checkbox-18"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../reference/api/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label for="toctree-checkbox-19"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com.html">scylla.scylladb.com</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label for="toctree-checkbox-20"><i class="icon-chevron-right"></i></label><div class="break"></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/nodeconfigs.html">NodeConfig (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/remotekubernetesclusters.html">RemoteKubernetesCluster (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/remoteowners.html">RemoteOwner (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scyllaclusters.html">ScyllaCluster (scylla.scylladb.com/v1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scylladbclusters.html">ScyllaDBCluster (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scylladbdatacenternodesstatusreports.html">ScyllaDBDatacenterNodesStatusReport (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scylladbdatacenters.html">ScyllaDBDatacenter (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scylladbmanagerclusterregistrations.html">ScyllaDBManagerClusterRegistration (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scylladbmanagertasks.html">ScyllaDBManagerTask (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scylladbmonitorings.html">ScyllaDBMonitoring (scylla.scylladb.com/v1alpha1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../reference/api/groups/scylla.scylladb.com/scyllaoperatorconfigs.html">ScyllaOperatorConfig (scylla.scylladb.com/v1alpha1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../reference/feature-gates.html">Feature Gates</a></li>
</ul>
</li>
</ul>

        </div>
    </div>
</div>
                    
                
            </div>

        </section>

        <footer class="footer">
    <div class="footer-group">
        <div class="footer-top">
            <a class="footer-logo" href="https://www.scylladb.com"></a>
            <div class="footer-links">
                <a class="footer-links__link" href="https://docs.scylladb.com/" target="_blank">Docs</a>
                <a class="footer-links__link" href="https://docs.scylladb.com/stable/get-started/develop-with-scylladb/tutorials-example-projects.html" target="_blank">Tutorials</a>
                <a class="footer-links__link" href="https://university.scylladb.com/" target="_blank">University</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/contact-us/"
                   target="_blank">Contact Us</a>
                <a class="footer-links__link" href="https://www.scylladb.com/company/" target="_blank">About Us</a>
            </div>
            <div class="footer-actions">
                <a class="footer-actions__link" href="http://slack.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="User Slack channel" data-position="bottom">
                        <i class="icon-slack"></i>
                    </span>
                </a>
                <a class="footer-actions__link" href="https://forum.scylladb.com/" target="_blank">
                    <span data-tooltip tabindex="1" title="Community forum" data-position="bottom">
                        <i class="icon-docs-community"></i>
                    </span>
                </a>
            </div>
        </div>

        
            <div class="footer-copyright">
                
                    
                        &#169; 2026, ScyllaDB. All rights reserved.
                    
                    | <a class="footer-copyright__link" href="https://www.scylladb.com/tos/" target="_blank">Terms of Service</a>
                    | <a class="footer-copyright__link" href="https://www.scylladb.com/privacy/" target="_blank">Privacy Policy</a>
                    | ScyllaDB, and ScyllaDB Cloud, are registered trademarks of ScyllaDB, Inc.
                
            </div>
        


        <div class="footer-bottom">
            
                <div class="footer-bottom__last-updated">
                    
                        Last updated on 02 March 2026.
                    
                </div>
            
            <div class="footer-bottom__version">
                Powered by
                <a class="footer-bottom__link" href="http://sphinx-doc.org/">Sphinx 8.2.3</a> &amp;
                <a class="footer-bottom__link" href="https://sphinx-theme.scylladb.com/">ScyllaDB Theme 1.8.10</a>
            </div>
        </div>
    </div>
    
        <biel-button class="footer-ask-ai" project="ddfdo8m94k"
                     header-title="ScyllaDB chatbot (beta)"
                     button-position="bottom-right"
                     modal-position="bottom-right"
                     button-style="dark">
            Ask AI
        </biel-button>
    
</footer>

        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP" height="0" width="0"
                    style="display: none; visibility: hidden"></iframe>
        </noscript>
    </body>

</html>